<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Execution Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .tab-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }
        
        .tab {
            flex: 1;
            padding: 15px 20px;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }
        
        .tab.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }
        
        .tab:hover:not(.active) {
            background: #e9ecef;
        }
        
        .tab-content {
            padding: 30px;
            min-height: 600px;
        }
        
        .concept {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .concept.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .visual-demo {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        
        .stack-heap {
            flex: 1;
        }
        
        .stack, .heap {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .stack h3, .heap h3 {
            color: #495057;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .stack-frame, .heap-item {
            background: #667eea;
            color: white;
            padding: 8px 12px;
            margin: 5px 0;
            border-radius: 5px;
            font-family: monospace;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .heap-item {
            background: #28a745;
        }
        
        .code-example {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .step-by-step {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .step {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
            border-left: 4px solid #667eea;
        }
        
        .execution-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }
        
        .execution-btn:hover {
            background: #218838;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .highlight {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 15px 0;
        }
        
        .arrow {
            text-align: center;
            font-size: 24px;
            color: #667eea;
            margin: 10px 0;
        }
        
        .memory-diagram {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ JavaScript Execution Simplified</h1>
            <p>Learn how JavaScript runs your code step-by-step</p>
        </div>
        
        <div class="tab-container">
            <div class="tabs">
                <button class="tab active" onclick="showTab('basics')">üèóÔ∏è Basics</button>
                <button class="tab" onclick="showTab('stack')">üìö Call Stack</button>
                <button class="tab" onclick="showTab('memory')">üß† Memory</button>
                <button class="tab" onclick="showTab('async')">‚è∞ Async</button>
                <button class="tab" onclick="showTab('demo')">üé¨ Live Demo</button>
            </div>
            
            <div class="tab-content">
                <!-- Basics Tab -->
                <div id="basics" class="concept active">
                    <h2>üéØ JavaScript Execution Basics</h2>
                    <p>Think of JavaScript like a restaurant kitchen with one chef (single-threaded):</p>
                    
                    <div class="highlight">
                        <h3>üîë Key Components:</h3>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li><strong>Call Stack</strong> - The chef's order queue (what to cook next)</li>
                            <li><strong>Heap</strong> - The pantry (where ingredients/objects are stored)</li>
                            <li><strong>Event Loop</strong> - The waiter (brings new orders when chef is free)</li>
                        </ul>
                    </div>
                    
                    <div class="code-example">
console.log("1. Start cooking");
setTimeout(() => console.log("3. Dessert ready"), 0);
console.log("2. Main course ready");
// Output: 1 ‚Üí 2 ‚Üí 3
                    </div>
                    
                    <div class="step-by-step">
                        <h3>üîÑ Two Phases of Execution:</h3>
                        <div class="step">
                            <strong>Creation Phase:</strong> JavaScript prepares the kitchen
                            <ul style="margin-top: 8px;">
                                <li>Functions are fully prepared (hoisted)</li>
                                <li>Variables are set aside but not filled (var = undefined)</li>
                                <li>let/const are reserved but locked (Temporal Dead Zone)</li>
                            </ul>
                        </div>
                        <div class="step">
                            <strong>Execution Phase:</strong> JavaScript starts cooking
                            <ul style="margin-top: 8px;">
                                <li>Code runs line by line</li>
                                <li>Variables get their actual values</li>
                                <li>Functions are called and executed</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- Call Stack Tab -->
                <div id="stack" class="concept">
                    <h2>üìö Call Stack Explained</h2>
                    <p>The call stack is like a stack of plates - last in, first out!</p>
                    
                    <div class="visual-demo">
                        <div class="stack-heap">
                            <div class="stack">
                                <h3>Call Stack</h3>
                                <div id="stack-frames">
                                    <div class="stack-frame">Global Context</div>
                                </div>
                            </div>
                        </div>
                        <div style="flex: 1;">
                            <div class="code-example">
function greet(name) {
    return "Hello " + name;
}

function welcome() {
    let msg = greet("Amit");
    console.log(msg);
}

welcome();
                            </div>
                            <button class="execution-btn" onclick="demonstrateStack()">‚ñ∂Ô∏è Run Step by Step</button>
                        </div>
                    </div>
                    
                    <div class="step-by-step">
                        <h3>üìã Stack Lifecycle:</h3>
                        <div class="step">1. <strong>Global Context</strong> is pushed first</div>
                        <div class="step">2. <strong>welcome()</strong> is called ‚Üí new frame pushed</div>
                        <div class="step">3. <strong>greet("Amit")</strong> is called ‚Üí another frame pushed</div>
                        <div class="step">4. <strong>greet</strong> finishes ‚Üí its frame is popped</div>
                        <div class="step">5. <strong>welcome</strong> finishes ‚Üí its frame is popped</div>
                        <div class="step">6. Only <strong>Global</strong> remains</div>
                    </div>
                </div>
                
                <!-- Memory Tab -->
                <div id="memory" class="concept">
                    <h2>üß† Memory: Stack vs Heap</h2>
                    <p>Understanding where your data lives!</p>
                    
                    <div class="memory-diagram">
                        <div class="stack">
                            <h3>Stack Memory</h3>
                            <p><strong>Fast & Small</strong></p>
                            <ul style="margin: 10px 0 0 20px;">
                                <li>Primitive values (numbers, strings)</li>
                                <li>Function calls</li>
                                <li>References to objects</li>
                            </ul>
                            <div class="stack-frame">name: "Amit"</div>
                            <div class="stack-frame">age: 25</div>
                            <div class="stack-frame">user ‚Üí [ref to heap]</div>
                        </div>
                        
                        <div class="heap">
                            <h3>Heap Memory</h3>
                            <p><strong>Slower & Large</strong></p>
                            <ul style="margin: 10px 0 0 20px;">
                                <li>Objects</li>
                                <li>Arrays</li>
                                <li>Functions</li>
                            </ul>
                            <div class="heap-item">{ name: "Amit", age: 25 }</div>
                            <div class="heap-item">function greet() {...}</div>
                        </div>
                    </div>
                    
                    <div class="code-example">
// Stack
let name = "Amit";        // Stored in stack
let age = 25;             // Stored in stack

// Heap
let user = {              // Object stored in heap
    name: "Amit",         // user variable in stack points to heap
    greet: function() {   // Function also in heap
        return "Hi!";
    }
};
                    </div>
                    
                    <div class="highlight">
                        <strong>üéØ Remember:</strong> Variables are like labels pointing to boxes. 
                        Simple values are in small boxes (stack), complex objects are in big boxes (heap).
                    </div>
                </div>
                
                <!-- Async Tab -->
                <div id="async" class="concept">
                    <h2>‚è∞ Asynchronous JavaScript</h2>
                    <p>How JavaScript handles multiple tasks with one thread</p>
                    
                    <div class="highlight">
                        <h3>üé≠ The Event Loop Dance:</h3>
                        <ol style="margin-left: 20px; line-height: 1.8;">
                            <li>Execute all synchronous code first</li>
                            <li>When stack is empty, check microtasks (Promises)</li>
                            <li>Run all microtasks</li>
                            <li>Take one macrotask (setTimeout, DOM events)</li>
                            <li>Repeat!</li>
                        </ol>
                    </div>
                    
                    <div class="code-example">
console.log("1: Start");

setTimeout(() => console.log("4: Timeout"), 0);

Promise.resolve().then(() => console.log("3: Promise"));

console.log("2: End");

// Output order: 1 ‚Üí 2 ‚Üí 3 ‚Üí 4
                    </div>
                    
                    <div class="step-by-step">
                        <h3>üîÑ Why this order?</h3>
                        <div class="step">
                            <strong>Sync first:</strong> "Start" and "End" print immediately
                        </div>
                        <div class="step">
                            <strong>Microtasks:</strong> Promise runs before setTimeout (higher priority)
                        </div>
                        <div class="step">
                            <strong>Macrotasks:</strong> setTimeout runs last (lower priority)
                        </div>
                    </div>
                    
                    <button class="execution-btn" onclick="demonstrateAsync()">‚ñ∂Ô∏è See Async in Action</button>
                    <div id="async-output" style="margin-top: 15px; min-height: 50px; background: #f8f9fa; padding: 10px; border-radius: 5px; font-family: monospace;"></div>
                </div>
                
                <!-- Live Demo Tab -->
                <div id="demo" class="concept">
                    <h2>üé¨ Interactive Demo</h2>
                    <p>Watch JavaScript execute your code live!</p>
                    
                    <div class="visual-demo">
                        <div class="stack-heap">
                            <div class="stack">
                                <h3>üìö Call Stack</h3>
                                <div id="demo-stack">
                                    <div class="stack-frame">Global Context</div>
                                </div>
                            </div>
                            <div class="heap">
                                <h3>üß† Heap Memory</h3>
                                <div id="demo-heap">
                                    <div class="heap-item">Ready for objects...</div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="flex: 1;">
                            <div class="code-example">
function createUser(name) {
    return {
        name: name,
        sayHi: function() {
            console.log("Hi " + this.name);
        }
    };
}

let user = createUser("Amit");
user.sayHi();
                            </div>
                            
                            <button class="execution-btn" onclick="runLiveDemo()">üöÄ Execute Code</button>
                            <button class="execution-btn" onclick="resetDemo()" style="background: #dc3545;">üîÑ Reset</button>
                            
                            <div id="demo-output" style="margin-top: 15px; background: #2d3748; color: #e2e8f0; padding: 15px; border-radius: 8px; font-family: monospace; min-height: 60px;">
                                Output will appear here...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let currentStep = 0;
        
        function showTab(tabName) {
            // Hide all concepts
            document.querySelectorAll('.concept').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            
            // Show selected concept and tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }
        
        function demonstrateStack() {
            const stackFrames = document.getElementById('stack-frames');
            const steps = [
                'Global Context',
                'Global Context|welcome()',
                'Global Context|welcome()|greet("Amit")',
                'Global Context|welcome()',
                'Global Context'
            ];
            
            let step = 0;
            const interval = setInterval(() => {
                if (step >= steps.length) {
                    clearInterval(interval);
                    return;
                }
                
                const frames = steps[step].split('|');
                stackFrames.innerHTML = frames.map(frame => 
                    `<div class="stack-frame">${frame}</div>`
                ).join('');
                
                step++;
            }, 1000);
        }
        
        function demonstrateAsync() {
            const output = document.getElementById('async-output');
            output.innerHTML = '';
            
            const messages = [
                { text: '1: Start', delay: 0 },
                { text: '2: End', delay: 100 },
                { text: '3: Promise', delay: 200 },
                { text: '4: Timeout', delay: 300 }
            ];
            
            messages.forEach(msg => {
                setTimeout(() => {
                    output.innerHTML += msg.text + '<br>';
                }, msg.delay);
            });
        }
        
        function runLiveDemo() {
            const stack = document.getElementById('demo-stack');
            const heap = document.getElementById('demo-heap');
            const output = document.getElementById('demo-output');
            
            // Reset
            stack.innerHTML = '<div class="stack-frame">Global Context</div>';
            heap.innerHTML = '<div class="heap-item">Ready for objects...</div>';
            output.innerHTML = '';
            
            // Step 1: Call createUser
            setTimeout(() => {
                stack.innerHTML = `
                    <div class="stack-frame">Global Context</div>
                    <div class="stack-frame">createUser("Amit")</div>
                `;
                output.innerHTML += 'Step 1: Calling createUser("Amit")<br>';
            }, 500);
            
            // Step 2: Create object in heap
            setTimeout(() => {
                heap.innerHTML = `
                    <div class="heap-item">User Object: {name: "Amit", sayHi: f}</div>
                `;
                output.innerHTML += 'Step 2: Object created in heap<br>';
            }, 1000);
            
            // Step 3: Return to global
            setTimeout(() => {
                stack.innerHTML = '<div class="stack-frame">Global Context</div>';
                output.innerHTML += 'Step 3: createUser returns, back to global<br>';
            }, 1500);
            
            // Step 4: Call sayHi
            setTimeout(() => {
                stack.innerHTML = `
                    <div class="stack-frame">Global Context</div>
                    <div class="stack-frame">user.sayHi()</div>
                `;
                output.innerHTML += 'Step 4: Calling user.sayHi()<br>';
            }, 2000);
            
            // Step 5: Execute and finish
            setTimeout(() => {
                stack.innerHTML = '<div class="stack-frame">Global Context</div>';
                output.innerHTML += 'Step 5: Output: "Hi Amit"<br>';
                output.innerHTML += '‚úÖ Execution complete!';
            }, 2500);
        }
        
        function resetDemo() {
            const stack = document.getElementById('demo-stack');
            const heap = document.getElementById('demo-heap');
            const output = document.getElementById('demo-output');
            
            stack.innerHTML = '<div class="stack-frame">Global Context</div>';
            heap.innerHTML = '<div class="heap-item">Ready for objects...</div>';
            output.innerHTML = 'Output will appear here...';
        }
    </script>
<script src="add-navigation.js"></script>
</body>
</html>