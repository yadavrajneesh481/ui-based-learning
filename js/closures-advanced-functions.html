<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closures & Advanced Functions</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        .home-link {
            display: inline-block;
            margin-bottom: 20px;
            padding: 10px 15px;
            background: #28a745;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        .home-link:hover {
            background: #218838;
            transform: translateY(-1px);
        }
        .home-link:focus {
            outline: 2px solid #ffc107;
            outline-offset: 2px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 50px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .section h3 {
            color: #764ba2;
            margin: 20px 0 15px 0;
            font-size: 1.4em;
        }

        .hinglish {
            background: #fff3cd;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #ffc107;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
        }

        .demo-box {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            margin: 5px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .output {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            min-height: 50px;
            border: 2px solid #4caf50;
        }

        .counter-display {
            font-size: 3em;
            text-align: center;
            color: #667eea;
            margin: 20px 0;
            font-weight: bold;
        }

        .visual-box {
            display: inline-block;
            padding: 15px 25px;
            margin: 10px;
            border: 2px solid #667eea;
            border-radius: 10px;
            background: white;
            transition: all 0.3s;
        }

        .visual-box:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
        }

        .scope-visual {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }

        .scope-layer {
            padding: 20px;
            border-radius: 10px;
            border: 3px solid;
            transition: all 0.3s;
        }

        .global-scope {
            border-color: #ff6b6b;
            background: #ffe0e0;
        }

        .outer-scope {
            border-color: #4ecdc4;
            background: #e0f7f5;
            margin-left: 30px;
        }

        .inner-scope {
            border-color: #95e1d3;
            background: #e8f8f5;
            margin-left: 60px;
        }

        .questions {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin-top: 40px;
        }

        .question-item {
            background: rgba(255,255,255,0.15);
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .question-item h4 {
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .difficulty {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: bold;
            margin-left: 10px;
        }

        .easy { background: #4caf50; }
        .medium { background: #ff9800; }
        .hard { background: #f44336; }

        .curry-demo {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
        }

        .curry-step {
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
            font-weight: bold;
        }

        .arrow {
            font-size: 2em;
            color: #667eea;
        }

        input {
            padding: 10px 15px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-size: 1em;
            margin: 5px;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }
            
            .content {
                padding: 20px;
            }
            
            .section {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="home-link" aria-label="Return to JavaScript course homepage">üè† Back to Course Home</a>
        <header>
            <h1>üîê Closures & Advanced Functions</h1>
            <p>JavaScript ke powerful concepts ko samjhein visual demos ke saath</p>
        </header>

        <div class="content">
            <!-- Closures Section -->
            <div class="section">
                <h2>1. Closures Kya Hai?</h2>
                
                <div class="hinglish">
                    <strong>Simple explanation:</strong> Closure ek function hai jo apne parent function ke variables ko "yaad" rakhta hai, chahe parent function execute ho chuka ho. Matlab function ke andar ka function bahar ke variables ko access kar sakta hai lifetime bhar.
                </div>

                <h3>Technical Definition:</h3>
                <p><strong>Closure:</strong> A closure is a function that has access to variables in its outer (enclosing) lexical scope, even after the outer function has returned.</p>

                <div class="code-block">
function outerFunction() {
    let outerVar = "Main bahar ka variable hoon";
    
    function innerFunction() {
        console.log(outerVar); // Access ho raha hai!
    }
    
    return innerFunction;
}

const myClosure = outerFunction();
myClosure(); // "Main bahar ka variable hoon"
                </div>

                <h3>Scope Visualization:</h3>
                <div class="scope-visual">
                    <div class="scope-layer global-scope">
                        <strong>Global Scope</strong>
                        <p>Yahan sabko access hai</p>
                    </div>
                    <div class="scope-layer outer-scope">
                        <strong>Outer Function Scope</strong>
                        <p>Outer variables yahan milte hain</p>
                    </div>
                    <div class="scope-layer inner-scope">
                        <strong>Inner Function (Closure) Scope</strong>
                        <p>Yeh sab scopes ko access kar sakta hai! ‚ú®</p>
                    </div>
                </div>
            </div>

            <!-- Private Counter Demo -->
            <div class="section">
                <h2>2. Private Counter Demo</h2>
                
                <div class="hinglish">
                    <strong>Data Encapsulation:</strong> Closures se hum private variables bana sakte hain jo directly access nahi ho sakte. Yeh data ko protect karta hai aur controlled access deta hai.
                </div>

                <div class="demo-box">
                    <h3>Interactive Private Counter:</h3>
                    <div class="counter-display" id="counterDisplay">0</div>
                    <div style="text-align: center;">
                        <button onclick="incrementCounter()">‚ûï Increment</button>
                        <button onclick="decrementCounter()">‚ûñ Decrement</button>
                        <button onclick="resetCounter()">üîÑ Reset</button>
                        <button onclick="getCounterValue()">üìä Get Value</button>
                    </div>
                    <div class="output" id="counterOutput">Counter ready! Buttons click karein...</div>
                </div>

                <div class="code-block">
// Private Counter Implementation
function createCounter() {
    let count = 0; // Private variable - bahar se access nahi ho sakta
    
    return {
        increment: () => ++count,
        decrement: () => --count,
        reset: () => count = 0,
        getValue: () => count
    };
}

const counter = createCounter();
// counter.count - undefined (private hai!)
                </div>
            </div>

            <!-- IIFE Section -->
            <div class="section">
                <h2>3. IIFE (Immediately Invoked Function Expression)</h2>
                
                <div class="hinglish">
                    <strong>IIFE kya hai?</strong> Ek function jo turant (immediately) execute ho jaata hai jaise hi define hota hai. Global scope ko pollute nahi karta aur private scope create karta hai.
                </div>

                <div class="code-block">
// IIFE Syntax
(function() {
    let privateVar = "Main private hoon!";
    console.log("IIFE turant execute hua!");
})();

// Arrow function IIFE
(() => {
    console.log("Arrow IIFE bhi turant chala!");
})();

// Named IIFE
(function myIIFE() {
    console.log("Named IIFE for debugging");
})();
                </div>

                <div class="demo-box">
                    <h3>IIFE Demo:</h3>
                    <button onclick="runIIFEDemo()">üöÄ Run IIFE Examples</button>
                    <div class="output" id="iifeOutput">IIFE examples dekhne ke liye button click karein...</div>
                </div>

                <div class="hinglish">
                    <strong>Use cases:</strong> Module pattern, avoid global pollution, create private scope, initialization code jo ek baar hi chalna hai.
                </div>
            </div>

            <!-- Currying Section -->
            <div class="section">
                <h2>4. Currying</h2>
                
                <div class="hinglish">
                    <strong>Currying:</strong> Ek function jo multiple arguments leta hai, usko transform karna into a sequence of functions jo ek-ek argument lete hain. Matlab <code>f(a, b, c)</code> ko convert karna <code>f(a)(b)(c)</code> mein.
                </div>

                <div class="code-block">
// Normal function
function add(a, b, c) {
    return a + b + c;
}
add(1, 2, 3); // 6

// Curried function
function curriedAdd(a) {
    return function(b) {
        return function(c) {
            return a + b + c;
        }
    }
}
curriedAdd(1)(2)(3); // 6

// Modern arrow syntax
const curriedAdd = a => b => c => a + b + c;
                </div>

                <div class="demo-box">
                    <h3>Currying Calculator:</h3>
                    <div class="curry-demo">
                        <input type="number" id="curry1" placeholder="First number" value="5">
                        <span class="arrow">‚Üí</span>
                        <input type="number" id="curry2" placeholder="Second number" value="3">
                        <span class="arrow">‚Üí</span>
                        <input type="number" id="curry3" placeholder="Third number" value="2">
                        <span class="arrow">=</span>
                        <div class="curry-step" id="curryResult">?</div>
                    </div>
                    <button onclick="calculateCurry()">üî¢ Calculate Curry</button>
                    <div class="output" id="curryOutput">Currying action dekhne ke liye calculate karein...</div>
                </div>
            </div>

            <!-- Partial Application -->
            <div class="section">
                <h2>5. Partial Application</h2>
                
                <div class="hinglish">
                    <strong>Partial Application:</strong> Ek function ko kuch arguments pre-fill karke ek naya function banana. Currying se similar hai lekin thoda different - yahan multiple arguments ek saath fix kar sakte hain.
                </div>

                <div class="code-block">
// Partial application example
function multiply(a, b) {
    return a * b;
}

// Create a "double" function
function partial(fn, ...fixedArgs) {
    return function(...remainingArgs) {
        return fn(...fixedArgs, ...remainingArgs);
    }
}

const double = partial(multiply, 2);
console.log(double(5)); // 10
console.log(double(8)); // 16

const triple = partial(multiply, 3);
console.log(triple(5)); // 15
                </div>

                <div class="demo-box">
                    <h3>Discount Calculator (Partial Application):</h3>
                    <div>
                        <label>Price: ‚Çπ</label>
                        <input type="number" id="price" value="1000">
                    </div>
                    <div style="margin-top: 15px;">
                        <button onclick="apply10Discount()">10% Discount</button>
                        <button onclick="apply25Discount()">25% Discount</button>
                        <button onclick="apply50Discount()">50% Discount</button>
                    </div>
                    <div class="output" id="discountOutput">Discount apply karne ke liye button click karein...</div>
                </div>
            </div>

            <!-- Advanced Demo: Data Encapsulation -->
            <div class="section">
                <h2>6. Advanced: Bank Account (Complete Encapsulation)</h2>
                
                <div class="hinglish">
                    <strong>Real-world example:</strong> Closures se hum ek complete private data system bana sakte hain jahan data directly accessible nahi hai, sirf methods ke through hi interact kar sakte hain.
                </div>

                <div class="demo-box">
                    <h3>Private Bank Account:</h3>
                    <div>
                        <input type="number" id="depositAmount" placeholder="Amount to deposit" value="500">
                        <button onclick="depositMoney()">üí∞ Deposit</button>
                    </div>
                    <div style="margin-top: 10px;">
                        <input type="number" id="withdrawAmount" placeholder="Amount to withdraw" value="200">
                        <button onclick="withdrawMoney()">üí∏ Withdraw</button>
                    </div>
                    <div style="margin-top: 10px;">
                        <button onclick="checkBalance()">üìä Check Balance</button>
                        <button onclick="getTransactionHistory()">üìú Transaction History</button>
                    </div>
                    <div class="output" id="bankOutput">Bank operations ready...</div>
                    <div class="counter-display" id="balanceDisplay">‚Çπ0</div>
                </div>

                <div class="code-block">
function createBankAccount(initialBalance = 0) {
    let balance = initialBalance;
    let transactions = [];
    
    return {
        deposit: (amount) => {
            if (amount > 0) {
                balance += amount;
                transactions.push({type: 'deposit', amount, date: new Date()});
                return `Deposited ‚Çπ${amount}. New balance: ‚Çπ${balance}`;
            }
            return "Invalid amount!";
        },
        withdraw: (amount) => {
            if (amount > 0 && amount <= balance) {
                balance -= amount;
                transactions.push({type: 'withdraw', amount, date: new Date()});
                return `Withdrawn ‚Çπ${amount}. New balance: ‚Çπ${balance}`;
            }
            return "Insufficient balance or invalid amount!";
        },
        getBalance: () => balance,
        getTransactions: () => [...transactions]
    };
}
                </div>
            </div>

            <!-- Interview Questions -->
            <div class="questions">
                <h2>üéØ Interview Questions (5-7 Important Questions)</h2>

                <div class="question-item">
                    <h4>Q1. What is a closure and how does it work? <span class="difficulty easy">EASY</span></h4>
                    <p><strong>Answer:</strong> A closure is a function that has access to variables from its outer (enclosing) scope, even after the outer function has finished executing. It "closes over" the variables it needs. Closures are created every time a function is created.</p>
                </div>

                <div class="question-item">
                    <h4>Q2. Explain the difference between currying and partial application. <span class="difficulty medium">MEDIUM</span></h4>
                    <p><strong>Answer:</strong> Currying transforms a function with multiple arguments into a sequence of functions each taking a single argument: f(a,b,c) ‚Üí f(a)(b)(c). Partial application fixes some arguments of a function and returns a new function that takes the remaining arguments: f(a,b,c) with 'a' fixed ‚Üí f'(b,c).</p>
                </div>

                <div class="question-item">
                    <h4>Q3. What is an IIFE and when would you use it? <span class="difficulty easy">EASY</span></h4>
                    <p><strong>Answer:</strong> IIFE (Immediately Invoked Function Expression) is a function that executes immediately after it's defined. Syntax: (function(){})() or (()=>{})(). Use cases: creating private scope, avoiding global namespace pollution, module pattern, running initialization code once.</p>
                </div>

                <div class="question-item">
                    <h4>Q4. How do closures help in data encapsulation and privacy? <span class="difficulty medium">MEDIUM</span></h4>
                    <p><strong>Answer:</strong> Closures allow creating private variables that cannot be accessed directly from outside. Only the returned methods can access and modify these variables. This provides data hiding and controlled access, implementing the principle of encapsulation in JavaScript.</p>
                </div>

                <div class="question-item">
                    <h4>Q5. What are common pitfalls with closures in loops? <span class="difficulty hard">HARD</span></h4>
                    <p><strong>Answer:</strong> The classic problem: when creating closures inside loops using 'var', all closures reference the same variable. Solution: use 'let' (block-scoped) or create an IIFE to capture the current value. Example: for(var i=0; i<3; i++) setTimeout(()=>console.log(i), 100) logs "3" three times. Using 'let' or IIFE fixes this.</p>
                </div>

                <div class="question-item">
                    <h4>Q6. Write a function that multiplies numbers with currying. <span class="difficulty medium">MEDIUM</span></h4>
                    <p><strong>Answer:</strong> const curry = (a) => (b) => (c) => a * b * c; <br>Usage: curry(2)(3)(4) // Returns 24. Each function returns another function until all arguments are collected.</p>
                </div>

                <div class="question-item">
                    <h4>Q7. Explain the concept of lexical scoping in relation to closures. <span class="difficulty hard">HARD</span></h4>
                    <p><strong>Answer:</strong> Lexical scoping means that the scope of a variable is determined by its position in the source code. Inner functions have access to variables in their outer scope at the time of definition, not execution. This lexical environment is preserved in closures, allowing inner functions to access outer variables even after the outer function returns. This is the foundation of how closures work.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Private Counter Implementation
        const counter = (function() {
            let count = 0;
            
            return {
                increment: () => ++count,
                decrement: () => --count,
                reset: () => count = 0,
                getValue: () => count
            };
        })();

        function incrementCounter() {
            const value = counter.increment();
            updateCounterDisplay(value);
            document.getElementById('counterOutput').innerHTML = `‚úÖ Counter incremented! New value: ${value}`;
        }

        function decrementCounter() {
            const value = counter.decrement();
            updateCounterDisplay(value);
            document.getElementById('counterOutput').innerHTML = `‚úÖ Counter decremented! New value: ${value}`;
        }

        function resetCounter() {
            counter.reset();
            updateCounterDisplay(0);
            document.getElementById('counterOutput').innerHTML = `üîÑ Counter reset to 0!`;
        }

        function getCounterValue() {
            const value = counter.getValue();
            document.getElementById('counterOutput').innerHTML = `üìä Current counter value: ${value}<br><em>Note: 'count' variable directly accessible nahi hai, private hai!</em>`;
        }

        function updateCounterDisplay(value) {
            const display = document.getElementById('counterDisplay');
            display.textContent = value;
            display.style.transform = 'scale(1.2)';
            setTimeout(() => {
                display.style.transform = 'scale(1)';
            }, 200);
        }

        // IIFE Demo
        function runIIFEDemo() {
            const output = document.getElementById('iifeOutput');
            let results = [];

            // Example 1: Basic IIFE
            (function() {
                results.push("‚úÖ Basic IIFE executed!");
            })();

            // Example 2: IIFE with parameters
            (function(name) {
                results.push(`‚úÖ IIFE with parameter: Hello ${name}!`);
            })("JavaScript");

            // Example 3: IIFE returning value
            const result = (function() {
                const secret = "I'm private!";
                return `‚úÖ IIFE returned: ${secret}`;
            })();
            results.push(result);

            // Example 4: Module pattern
            const myModule = (function() {
                let privateVar = 42;
                return {
                    getPrivate: () => privateVar,
                    setPrivate: (val) => privateVar = val
                };
            })();
            results.push(`‚úÖ Module pattern: Private value = ${myModule.getPrivate()}`);

            output.innerHTML = results.join('<br>');
        }

        // Currying Demo
        const curriedAdd = a => b => c => a + b + c;

        function calculateCurry() {
            const a = parseFloat(document.getElementById('curry1').value) || 0;
            const b = parseFloat(document.getElementById('curry2').value) || 0;
            const c = parseFloat(document.getElementById('curry3').value) || 0;

            const result = curriedAdd(a)(b)(c);
            document.getElementById('curryResult').textContent = result;
            
            const output = document.getElementById('curryOutput');
            output.innerHTML = `
                <strong>Currying Process:</strong><br>
                Step 1: curriedAdd(${a}) ‚Üí returns function that waits for 'b'<br>
                Step 2: curriedAdd(${a})(${b}) ‚Üí returns function that waits for 'c'<br>
                Step 3: curriedAdd(${a})(${b})(${c}) ‚Üí finally returns: <strong>${result}</strong>
            `;
        }

        // Partial Application Demo
        function applyDiscount(percentage, price) {
            const discount = (price * percentage) / 100;
            return price - discount;
        }

        function partial(fn, ...fixedArgs) {
            return function(...remainingArgs) {
                return fn(...fixedArgs, ...remainingArgs);
            };
        }

        const apply10 = partial(applyDiscount, 10);
        const apply25 = partial(applyDiscount, 25);
        const apply50 = partial(applyDiscount, 50);

        function apply10Discount() {
            const price = parseFloat(document.getElementById('price').value) || 0;
            const finalPrice = apply10(price);
            document.getElementById('discountOutput').innerHTML = `
                Original Price: ‚Çπ${price}<br>
                10% Discount Applied<br>
                <strong>Final Price: ‚Çπ${finalPrice}</strong>
            `;
        }

        function apply25Discount() {
            const price = parseFloat(document.getElementById('price').value) || 0;
            const finalPrice = apply25(price);
            document.getElementById('discountOutput').innerHTML = `
                Original Price: ‚Çπ${price}<br>
                25% Discount Applied<br>
                <strong>Final Price: ‚Çπ${finalPrice}</strong>
            `;
        }

        function apply50Discount() {
            const price = parseFloat(document.getElementById('price').value) || 0;
            const finalPrice = apply50(price);
            document.getElementById('discountOutput').innerHTML = `
                Original Price: ‚Çπ${price}<br>
                50% Discount Applied (Half Price!)<br>
                <strong>Final Price: ‚Çπ${finalPrice}</strong>
            `;
        }

        // Bank Account Demo
        const bankAccount = (function() {
            let balance = 0;
            let transactions = [];

            return {
                deposit: (amount) => {
                    if (amount > 0) {
                        balance += amount;
                        transactions.push({
                            type: 'deposit',
                            amount: amount,
                            date: new Date().toLocaleString(),
                            balance: balance
                        });
                        return {success: true, message: `Deposited ‚Çπ${amount}`, balance: balance};
                    }
                    return {success: false, message: "Invalid amount!"};
                },
                withdraw: (amount) => {
                    if (amount > 0 && amount <= balance) {
                        balance -= amount;
                        transactions.push({
                            type: 'withdraw',
                            amount: amount,
                            date: new Date().toLocaleString(),
                            balance: balance
                        });
                        return {success: true, message: `Withdrawn ‚Çπ${amount}`, balance: balance};
                    }
                    return {success: false, message: "Insufficient balance or invalid amount!"};
                },
                getBalance: () => balance,
                getTransactions: () => [...transactions]
            };
        })();

        function depositMoney() {
            const amount = parseFloat(document.getElementById('depositAmount').value) || 0;
            const result = bankAccount.deposit(amount);
            document.getElementById('bankOutput').innerHTML = `${result.success ? '‚úÖ' : '‚ùå'} ${result.message}`;
            document.getElementById('balanceDisplay').textContent = `‚Çπ${result.balance || bankAccount.getBalance()}`;
        }

        function withdrawMoney() {
            const amount = parseFloat(document.getElementById('withdrawAmount').value) || 0;
            const result = bankAccount.withdraw(amount);
            document.getElementById('bankOutput').innerHTML = `${result.success ? '‚úÖ' : '‚ùå'} ${result.message}`;
            document.getElementById('balanceDisplay').textContent = `‚Çπ${result.balance || bankAccount.getBalance()}`;
        }

        function checkBalance() {
            const balance = bankAccount.getBalance();
            document.getElementById('bankOutput').innerHTML = `üìä Current Balance: ‚Çπ${balance}<br><em>Balance variable directly accessible nahi hai - closure ke through protected hai!</em>`;
            document.getElementById('balanceDisplay').textContent = `‚Çπ${balance}`;
        }

        function getTransactionHistory() {
            const transactions = bankAccount.getTransactions();
            if (transactions.length === 0) {
                document.getElementById('bankOutput').innerHTML = `üìú No transactions yet!`;
                return;
            }
            
            let html = `<strong>üìú Transaction History:</strong><br>`;
            transactions.forEach((t, i) => {
                html += `${i+1}. ${t.type.toUpperCase()}: ‚Çπ${t.amount} on ${t.date} (Balance: ‚Çπ${t.balance})<br>`;
            });
            document.getElementById('bankOutput').innerHTML = html;
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            calculateCurry();
        });
    </script>
</body>
</html>