<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 14: Error Handling in JavaScript</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .home-link {
            display: inline-block;
            margin-bottom: 20px;
            padding: 10px 15px;
            background: #28a745;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        .home-link:hover {
            background: #218838;
            transform: translateY(-1px);
        }
        .home-link:focus {
            outline: 2px solid #ffc107;
            outline-offset: 2px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .section h3 {
            color: #764ba2;
            margin: 20px 0 10px 0;
            font-size: 1.3em;
        }

        .explanation {
            line-height: 1.8;
            color: #333;
            margin-bottom: 20px;
        }

        .code-block {
            background: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            position: relative;
        }

        .code-block code {
            display: block;
            white-space: pre;
        }

        .keyword {
            color: #c678dd;
        }

        .string {
            color: #98c379;
        }

        .function {
            color: #61afef;
        }

        .comment {
            color: #5c6370;
            font-style: italic;
        }

        .interactive-demo {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #667eea;
        }

        .demo-title {
            font-size: 1.2em;
            color: #667eea;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .input-group {
            margin: 15px 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: 600;
        }

        .input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin: 5px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .output {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            min-height: 50px;
            font-family: monospace;
        }

        .output.success {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .output.error {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        .output.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 2px solid #bee5eb;
        }

        .flow-diagram {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
        }

        .flow-box {
            padding: 20px 30px;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            text-align: center;
            min-width: 200px;
            position: relative;
        }

        .flow-box.try {
            background: #4CAF50;
        }

        .flow-box.catch {
            background: #ff6b6b;
        }

        .flow-box.finally {
            background: #667eea;
        }

        .arrow {
            font-size: 2em;
            color: #667eea;
        }

        .interview-section {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 40px;
            margin-top: 40px;
        }

        .interview-section h2 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2em;
        }

        .question-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: transform 0.3s;
        }

        .question-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .question-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .question-text {
            flex: 1;
            margin: 0 15px;
            font-weight: 600;
            color: #333;
        }

        .difficulty {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .difficulty.easy {
            background: #d4edda;
            color: #155724;
        }

        .difficulty.medium {
            background: #fff3cd;
            color: #856404;
        }

        .difficulty.hard {
            background: #f8d7da;
            color: #721c24;
        }

        .answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            margin-top: 0;
        }

        .answer.show {
            max-height: 1000px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #f0f0f0;
        }

        .answer p {
            color: #555;
            line-height: 1.8;
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .section {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="home-link" aria-label="Return to JavaScript course homepage">üè† Back to Course Home</a>
        <div class="header">
            <h1>üõ°Ô∏è Day 14: Error Handling</h1>
            <p>try, catch, finally aur Custom Errors</p>
        </div>

        <div class="content">
            <!-- Section 1: Introduction -->
            <div class="section">
                <h2>üéØ Error Handling Kya Hai?</h2>
                <div class="explanation">
                    <p><strong>Error Handling</strong> ek aisi technique hai jisse hum apne program mein aane wali errors ko gracefully handle kar sakte hain. Jab koi error aati hai, toh program crash nahi hota balki hum usse manage kar ke user ko proper message dikha sakte hain.</p>
                    <p><strong>Real-life example:</strong> Jaise ATM machine mein agar network issue ho, toh machine crash nahi hoti balki "Network Error, Please Try Again" message dikhati hai - yahi error handling hai!</p>
                </div>

                <div class="flow-diagram">
                    <div class="flow-box try">TRY Block<br><small>Code execute karo</small></div>
                    <div class="arrow">‚Üì</div>
                    <div class="flow-box catch">CATCH Block<br><small>Error handle karo</small></div>
                    <div class="arrow">‚Üì</div>
                    <div class="flow-box finally">FINALLY Block<br><small>Cleanup karo</small></div>
                </div>
            </div>

            <!-- Section 2: try-catch-finally -->
            <div class="section">
                <h2>üì¶ try-catch-finally Block</h2>
                <div class="explanation">
                    <p><strong>try:</strong> Is block mein wo code likhte hain jisme error aa sakti hai</p>
                    <p><strong>catch:</strong> Agar try block mein error aati hai, toh yahan handle hoti hai</p>
                    <p><strong>finally:</strong> Ye block hamesha chalega, chahe error aaye ya na aaye - cleanup ke liye best hai</p>
                </div>

                <div class="code-block">
                    <code><span class="keyword">try</span> {
    <span class="comment">// Risky code yahan likho</span>
    <span class="keyword">let</span> result = <span class="function">riskyOperation</span>();
} <span class="keyword">catch</span> (error) {
    <span class="comment">// Error handle karo</span>
    <span class="function">console.log</span>(<span class="string">"Error aaya:"</span>, error.message);
} <span class="keyword">finally</span> {
    <span class="comment">// Cleanup code - hamesha chalega</span>
    <span class="function">console.log</span>(<span class="string">"Operation complete"</span>);
}</code>
                </div>

                <div class="interactive-demo">
                    <div class="demo-title">üéÆ Interactive Demo: Division Calculator</div>
                    <div class="input-group">
                        <label>Numerator (upar wali number):</label>
                        <input type="number" id="numerator" placeholder="10">
                    </div>
                    <div class="input-group">
                        <label>Denominator (niche wali number):</label>
                        <input type="number" id="denominator" placeholder="2">
                    </div>
                    <button onclick="performDivision()">Calculate Division</button>
                    <div id="divisionOutput" class="output info">Result yahan dikhega...</div>
                </div>
            </div>

            <!-- Section 3: Custom Errors -->
            <div class="section">
                <h2>üé® Custom Errors Banana</h2>
                <div class="explanation">
                    <p>Hum apni khud ki error types bana sakte hain jo specific situations ke liye useful hoti hain. <span class="highlight">throw</span> keyword se custom errors throw karte hain.</p>
                </div>

                <div class="code-block">
                    <code><span class="keyword">class</span> <span class="function">ValidationError</span> <span class="keyword">extends</span> Error {
    <span class="function">constructor</span>(message) {
        <span class="keyword">super</span>(message);
        <span class="keyword">this</span>.name = <span class="string">"ValidationError"</span>;
    }
}

<span class="keyword">function</span> <span class="function">validateAge</span>(age) {
    <span class="keyword">if</span> (age < 18) {
        <span class="keyword">throw new</span> <span class="function">ValidationError</span>(<span class="string">"Age must be 18 or above"</span>);
    }
    <span class="keyword">return</span> <span class="string">"Valid age"</span>;
}</code>
                </div>

                <div class="interactive-demo">
                    <div class="demo-title">üéÆ Interactive Demo: Age Validator</div>
                    <div class="input-group">
                        <label>Apni Age Enter Karo:</label>
                        <input type="number" id="ageInput" placeholder="25">
                    </div>
                    <button onclick="validateAge()">Validate Age</button>
                    <div id="ageOutput" class="output info">Validation result yahan dikhega...</div>
                </div>
            </div>

            <!-- Section 4: Error Propagation -->
            <div class="section">
                <h2>üîÑ Error Propagation</h2>
                <div class="explanation">
                    <p><strong>Error Propagation</strong> ka matlab hai ki error ek function se dusre function tak travel karti hai jab tak koi usse handle na kare. Agar kisi function mein error handle nahi hui, toh wo caller function tak jati hai.</p>
                </div>

                <div class="code-block">
                    <code><span class="keyword">function</span> <span class="function">level3</span>() {
    <span class="keyword">throw new</span> <span class="function">Error</span>(<span class="string">"Level 3 error"</span>);
}

<span class="keyword">function</span> <span class="function">level2</span>() {
    <span class="function">level3</span>(); <span class="comment">// Error propagate hogi</span>
}

<span class="keyword">function</span> <span class="function">level1</span>() {
    <span class="keyword">try</span> {
        <span class="function">level2</span>();
    } <span class="keyword">catch</span> (error) {
        <span class="comment">// Yahan error catch hogi</span>
        <span class="function">console.log</span>(<span class="string">"Caught:"</span>, error.message);
    }
}</code>
                </div>

                <div class="interactive-demo">
                    <div class="demo-title">üéÆ Interactive Demo: Error Propagation Chain</div>
                    <button onclick="startPropagationDemo()">Start Error Propagation</button>
                    <div id="propagationOutput" class="output info">Click button to see propagation...</div>
                </div>
            </div>

            <!-- Section 5: Safe User Input Handling -->
            <div class="section">
                <h2>üõ°Ô∏è Safe User Input Handling</h2>
                <div class="explanation">
                    <p>User input hamesha unpredictable hota hai. Isliye proper validation aur error handling zaroori hai. Yahan hum ek complete example dekhenge.</p>
                </div>

                <div class="interactive-demo">
                    <div class="demo-title">üéÆ Interactive Demo: User Registration Form</div>
                    <div class="input-group">
                        <label>Name (minimum 3 characters):</label>
                        <input type="text" id="userName" placeholder="John Doe">
                    </div>
                    <div class="input-group">
                        <label>Email:</label>
                        <input type="email" id="userEmail" placeholder="john@example.com">
                    </div>
                    <div class="input-group">
                        <label>Age (18-100):</label>
                        <input type="number" id="userAge" placeholder="25">
                    </div>
                    <div class="input-group">
                        <label>Password (minimum 6 characters):</label>
                        <input type="password" id="userPassword" placeholder="******">
                    </div>
                    <button onclick="registerUser()">Register User</button>
                    <button onclick="clearForm()">Clear Form</button>
                    <div id="registrationOutput" class="output info">Fill the form and click register...</div>
                </div>
            </div>
        </div>

        <!-- Interview Questions Section -->
        <div class="interview-section">
            <h2>üíº Interview Questions</h2>

            <div class="question-card" onclick="toggleAnswer(1)">
                <div class="question-header">
                    <div class="question-number">1</div>
                    <div class="question-text">try-catch-finally mein finally block kab execute hota hai?</div>
                    <div class="difficulty easy">Easy</div>
                </div>
                <div id="answer1" class="answer">
                    <p><strong>Answer:</strong> Finally block <span class="highlight">hamesha</span> execute hota hai, chahe try block mein error aaye ya na aaye, aur chahe catch block run ho ya na ho. Yahan tak ki agar try ya catch block mein return statement ho, tab bhi finally pehle execute hoga.</p>
                    <p><strong>Example:</strong> Database connection close karna, file handles release karna - ye sab finally mein karte hain kyunki ye cleanup operations hamesha honi chahiye.</p>
                </div>
            </div>

            <div class="question-card" onclick="toggleAnswer(2)">
                <div class="question-header">
                    <div class="question-number">2</div>
                    <div class="question-text">Error aur Exception mein kya difference hai?</div>
                    <div class="difficulty easy">Easy</div>
                </div>
                <div id="answer2" class="answer">
                    <p><strong>Answer:</strong> JavaScript mein technically sab kuch "Error" objects hain, lekin conceptually:</p>
                    <p><strong>Errors:</strong> System-level problems jo recover nahi ho sakti (jaise out of memory, stack overflow)</p>
                    <p><strong>Exceptions:</strong> Program-level issues jo handle ki ja sakti hain (jaise validation errors, network errors)</p>
                    <p>JavaScript mein dono ko try-catch se handle karte hain, lekin best practice ye hai ki recoverable errors ko properly catch karein aur unrecoverable errors ko propagate hone dein.</p>
                </div>
            </div>

            <div class="question-card" onclick="toggleAnswer(3)">
                <div class="question-header">
                    <div class="question-number">3</div>
                    <div class="question-text">Custom error class kaise banate hain aur kyun?</div>
                    <div class="difficulty medium">Medium</div>
                </div>
                <div id="answer3" class="answer">
                    <p><strong>Answer:</strong> Custom error class built-in Error class ko extend karke banate hain:</p>
                    <p><code>class ValidationError extends Error { constructor(message) { super(message); this.name = "ValidationError"; } }</code></p>
                    <p><strong>Kyun banate hain:</strong></p>
                    <p>1. Different error types ko specifically handle karne ke liye</p>
                    <p>2. Error messages ko more descriptive banane ke liye</p>
                    <p>3. Error handling logic ko better organize karne ke liye</p>
                    <p>4. Debugging aur logging ko easier banane ke liye</p>
                </div>
            </div>

            <div class="question-card" onclick="toggleAnswer(4)">
                <div class="question-header">
                    <div class="question-number">4</div>
                    <div class="question-text">Async functions mein error handling kaise karte hain?</div>
                    <div class="difficulty medium">Medium</div>
                </div>
                <div id="answer4" class="answer">
                    <p><strong>Answer:</strong> Async functions mein error handling ke teen tarike hain:</p>
                    <p><strong>1. try-catch with async/await:</strong> <code>try { await fetchData(); } catch(error) { handle error }</code></p>
                    <p><strong>2. .catch() with Promises:</strong> <code>fetchData().then(data => {...}).catch(error => {...})</code></p>
                    <p><strong>3. Promise.catch() for multiple promises:</strong> <code>Promise.all([p1, p2]).catch(error => {...})</code></p>
                    <p>Best practice ye hai ki async/await ke saath try-catch use karein kyunki code readable hota hai.</p>
                </div>
            </div>

            <div class="question-card" onclick="toggleAnswer(5)">
                <div class="question-header">
                    <div class="question-number">5</div>
                    <div class="question-text">Error propagation ka practical use case kya hai?</div>
                    <div class="difficulty medium">Medium</div>
                </div>
                <div id="answer5" class="answer">
                    <p><strong>Answer:</strong> Error propagation useful hota hai jab:</p>
                    <p><strong>Scenario:</strong> Ek e-commerce app mein payment processing:</p>
                    <p>1. <strong>validatePayment()</strong> - payment details check karta hai</p>
                    <p>2. <strong>processPayment()</strong> - payment gateway ko call karta hai</p>
                    <p>3. <strong>updateOrder()</strong> - order status update karta hai</p>
                    <p>Agar kisi bhi level pe error aaye, wo upar propagate hogi jahan centralized error handling hai. Yahan proper error message user ko dikha sakte hain aur transaction rollback kar sakte hain.</p>
                </div>
            </div>

            <div class="question-card" onclick="toggleAnswer(6)">
                <div class="question-header">
                    <div class="question-number">6</div>
                    <div class="question-text">throw aur throw new Error() mein difference kya hai?</div>
                    <div class="difficulty hard">Hard</div>
                </div>
                <div id="answer6" class="answer">
                    <p><strong>Answer:</strong> JavaScript mein aap kuch bhi throw kar sakte hain:</p>
                    <p><strong>throw "Error message"</strong> - String throw kar sakte hain (not recommended)</p>
                    <p><strong>throw new Error("message")</strong> - Proper Error object with stack trace (recommended)</p>
                    <p><strong>Best Practice:</strong> Hamesha Error object throw karein kyunki:</p>
                    <p>1. Stack trace milta hai debugging ke liye</p>
                    <p>2. Error ka naam (name property) milta hai</p>
                    <p>3. Consistent error handling ho sakti hai</p>
                    <p>4. Custom error types bana sakte hain</p>
                </div>
            </div>

            <div class="question-card" onclick="toggleAnswer(7)">
                <div class="question-header">
                    <div class="question-number">7</div>
                    <div class="question-text">Production-ready error handling strategy kya honi chahiye?</div>
                    <div class="difficulty hard">Hard</div>
                </div>
                <div id="answer7" class="answer">
                    <p><strong>Answer:</strong> Production-ready error handling mein ye zaroori hain:</p>
                    <p><strong>1. Structured Error Logging:</strong> Error details ko properly log karein (error type, timestamp, user context)</p>
                    <p><strong>2. User-Friendly Messages:</strong> Technical errors ko user-friendly message mein convert karein</p>
                    <p><strong>3. Error Monitoring:</strong> Tools like Sentry ya LogRocket use karein real-time error tracking ke liye</p>
                    <p><strong>4. Graceful Degradation:</strong> Agar koi feature fail ho, toh app crash na ho - alternative provide karein</p>
                    <p><strong>5. Security:</strong> Sensitive information errors mein expose na karein</p>
                    <p><strong>6. Retry Logic:</strong> Network errors ke liye automatic retry mechanism</p>
                    <p><strong>7. Global Error Handler:</strong> Uncaught errors handle karne ke liye window.onerror use karein</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Division Calculator Demo
        function performDivision() {
            const output = document.getElementById('divisionOutput');
            const num = parseFloat(document.getElementById('numerator').value);
            const den = parseFloat(document.getElementById('denominator').value);
            
            let executionSteps = [];
            
            try {
                executionSteps.push('‚úì TRY block start hua');
                
                if (isNaN(num) || isNaN(den)) {
                    throw new Error('Please enter valid numbers');
                }
                
                if (den === 0) {
                    throw new Error('Denominator zero nahi ho sakta! (Division by zero)');
                }
                
                const result = num / den;
                executionSteps.push(`‚úì Calculation successful: ${num} √∑ ${den} = ${result.toFixed(2)}`);
                
                output.className = 'output success';
                output.innerHTML = executionSteps.join('<br>');
                
            } catch (error) {
                executionSteps.push('‚úó CATCH block mein aaya');
                executionSteps.push(`‚úó Error: ${error.message}`);
                
                output.className = 'output error';
                output.innerHTML = executionSteps.join('<br>');
                
            } finally {
                executionSteps.push('‚Üí FINALLY block hamesha chalega');
                executionSteps.push('‚Üí Cleanup complete!');
                
                setTimeout(() => {
                    output.innerHTML = executionSteps.join('<br>');
                }, 500);
            }
        }

        // Age Validator Demo
        class ValidationError extends Error {
            constructor(message) {
                super(message);
                this.name = 'ValidationError';
            }
        }

        function validateAge() {
            const output = document.getElementById('ageOutput');
            const age = parseInt(document.getElementById('ageInput').value);
            
            try {
                if (isNaN(age)) {
                    throw new ValidationError('Kripya valid age enter karein!');
                }
                
                if (age < 0) {
                    throw new ValidationError('Age negative nahi ho sakti!');
                }
                
                if (age < 18) {
                    throw new ValidationError('Age 18 se kam hai. Access denied!');
                }
                
                if (age > 120) {
                    throw new ValidationError('Age bahut zyada hai. Please check!');
                }
                
                output.className = 'output success';
                output.innerHTML = `‚úì Validation successful!<br>‚úì Age: ${age} years<br>‚úì Access granted!`;
                
            } catch (error) {
                if (error instanceof ValidationError) {
                    output.className = 'output error';
                    output.innerHTML = `‚úó ValidationError: ${error.message}<br>‚úó Error Type: ${error.name}`;
                } else {
                    output.className = 'output error';
                    output.innerHTML = `‚úó Unexpected Error: ${error.message}`;
                }
            }
        }

        // Error Propagation Demo
        function level3Function() {
            throw new Error('Level 3 pe error aaya! (Deepest function)');
        }

        function level2Function() {
            console.log('Level 2: Calling level 3...');
            level3Function();
        }

        function level1Function() {
            console.log('Level 1: Calling level 2...');
            level2Function();
        }

        function startPropagationDemo() {
            const output = document.getElementById('propagationOutput');
            let steps = [];
            
            steps.push('üü¢ Starting error propagation chain...');
            steps.push('');
            steps.push('üìç Level 1 function called');
            steps.push('  ‚Üì Calls Level 2');
            steps.push('');
            steps.push('üìç Level 2 function called');
            steps.push('  ‚Üì Calls Level 3');
            steps.push('');
            steps.push('üìç Level 3 function called');
            steps.push('  ‚úó ERROR THROWN HERE!');
            steps.push('');
            
            try {
                level1Function();
            } catch (error) {
                steps.push('  ‚Üë Error propagates to Level 2');
                steps.push('  ‚Üë Level 2 mein catch nahi hai, propagate karta hai');
                steps.push('');
                steps.push('  ‚Üë Error propagates to Level 1');
                steps.push('  ‚Üë Level 1 mein catch nahi hai, propagate karta hai');
                steps.push('');
                steps.push('üî¥ Error finally caught in main function!');
                steps.push(`‚úì Error Message: "${error.message}"`);
                steps.push('‚úì Error successfully handled!');
                
                output.className = 'output success';
                output.innerHTML = steps.join('<br>');
            }
        }

        // User Registration Form with Complete Error Handling
        class RegistrationError extends Error {
            constructor(field, message) {
                super(message);
                this.name = 'RegistrationError';
                this.field = field;
            }
        }

        function validateName(name) {
            if (!name || name.trim() === '') {
                throw new RegistrationError('name', 'Name khali nahi ho sakta!');
            }
            if (name.trim().length < 3) {
                throw new RegistrationError('name', 'Name kam se kam 3 characters ka hona chahiye!');
            }
            if (!/^[a-zA-Z\s]+$/.test(name)) {
                throw new RegistrationError('name', 'Name mein sirf letters aur spaces allowed hain!');
            }
            return name.trim();
        }

        function validateEmail(email) {
            if (!email || email.trim() === '') {
                throw new RegistrationError('email', 'Email khali nahi ho sakta!');
            }
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                throw new RegistrationError('email', 'Invalid email format! Example: user@example.com');
            }
            return email.trim().toLowerCase();
        }

        function validateUserAge(age) {
            const ageNum = parseInt(age);
            if (isNaN(ageNum)) {
                throw new RegistrationError('age', 'Valid age enter karein!');
            }
            if (ageNum < 18) {
                throw new RegistrationError('age', 'Age 18 se kam nahi ho sakti!');
            }
            if (ageNum > 100) {
                throw new RegistrationError('age', 'Age 100 se zyada nahi ho sakti!');
            }
            return ageNum;
        }

        function validatePassword(password) {
            if (!password || password === '') {
                throw new RegistrationError('password', 'Password khali nahi ho sakta!');
            }
            if (password.length < 6) {
                throw new RegistrationError('password', 'Password kam se kam 6 characters ka hona chahiye!');
            }
            if (!/[A-Z]/.test(password)) {
                throw new RegistrationError('password', 'Password mein kam se kam ek capital letter hona chahiye!');
            }
            if (!/[0-9]/.test(password)) {
                throw new RegistrationError('password', 'Password mein kam se kam ek number hona chahiye!');
            }
            return password;
        }

        function registerUser() {
            const output = document.getElementById('registrationOutput');
            const nameInput = document.getElementById('userName');
            const emailInput = document.getElementById('userEmail');
            const ageInput = document.getElementById('userAge');
            const passwordInput = document.getElementById('userPassword');
            
            let validatedData = {};
            let steps = [];
            
            try {
                steps.push('üîÑ Starting registration process...');
                steps.push('');
                
                // Validate Name
                steps.push('‚úì Validating name...');
                validatedData.name = validateName(nameInput.value);
                steps.push(`  ‚Üí Name valid: ${validatedData.name}`);
                steps.push('');
                
                // Validate Email
                steps.push('‚úì Validating email...');
                validatedData.email = validateEmail(emailInput.value);
                steps.push(`  ‚Üí Email valid: ${validatedData.email}`);
                steps.push('');
                
                // Validate Age
                steps.push('‚úì Validating age...');
                validatedData.age = validateUserAge(ageInput.value);
                steps.push(`  ‚Üí Age valid: ${validatedData.age} years`);
                steps.push('');
                
                // Validate Password
                steps.push('‚úì Validating password...');
                validatedData.password = validatePassword(passwordInput.value);
                steps.push(`  ‚Üí Password valid (${validatedData.password.length} characters)`);
                steps.push('');
                
                // Success
                steps.push('üéâ Registration Successful!');
                steps.push('');
                steps.push('<strong>User Data:</strong>');
                steps.push(`Name: ${validatedData.name}`);
                steps.push(`Email: ${validatedData.email}`);
                steps.push(`Age: ${validatedData.age}`);
                steps.push(`Password: ${'*'.repeat(validatedData.password.length)}`);
                
                output.className = 'output success';
                output.innerHTML = steps.join('<br>');
                
            } catch (error) {
                if (error instanceof RegistrationError) {
                    steps.push(`‚úó Validation Failed on field: <strong>${error.field}</strong>`);
                    steps.push(`‚úó Error: ${error.message}`);
                    steps.push('');
                    steps.push('üí° Tip: Please fix the error and try again!');
                    
                    output.className = 'output error';
                    output.innerHTML = steps.join('<br>');
                    
                    // Highlight the problematic field
                    const fieldInput = document.getElementById('user' + error.field.charAt(0).toUpperCase() + error.field.slice(1));
                    if (fieldInput) {
                        fieldInput.style.borderColor = '#ff6b6b';
                        setTimeout(() => {
                            fieldInput.style.borderColor = '#ddd';
                        }, 3000);
                    }
                } else {
                    output.className = 'output error';
                    output.innerHTML = `‚úó Unexpected Error: ${error.message}<br>Please try again later.`;
                }
            } finally {
                steps.push('');
                steps.push('‚Üí Registration process completed (finally block)');
                
                setTimeout(() => {
                    output.innerHTML = steps.join('<br>');
                }, 100);
            }
        }

        function clearForm() {
            document.getElementById('userName').value = '';
            document.getElementById('userEmail').value = '';
            document.getElementById('userAge').value = '';
            document.getElementById('userPassword').value = '';
            document.getElementById('registrationOutput').className = 'output info';
            document.getElementById('registrationOutput').innerHTML = 'Form cleared! Fill the form and click register...';
        }

        // Toggle Interview Question Answers
        function toggleAnswer(questionNum) {
            const answer = document.getElementById('answer' + questionNum);
            answer.classList.toggle('show');
        }

        // Initialize page
        window.onload = function() {
            console.log('‚úì Error Handling Tutorial Loaded Successfully!');
            console.log('‚úì All interactive demos are ready!');
            console.log('‚úì Try the demos to understand error handling better!');
        };
    </script>
</body>
</html>
                