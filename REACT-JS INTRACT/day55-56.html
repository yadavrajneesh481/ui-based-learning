<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backend Integration - MERN Stack Complete Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e22ce 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 25px;
            box-shadow: 0 25px 80px rgba(0,0,0,0.4);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e22ce 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.3em;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.3);
            position: relative;
            margin-top: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #3b82f6, #8b5cf6);
            width: 0%;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }

        .content {
            padding: 50px;
        }

        .section {
            margin-bottom: 60px;
            padding: 40px;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-radius: 20px;
            border-left: 6px solid #3b82f6;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }

        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.12);
        }

        .section h2 {
            color: #1e3c72;
            margin-bottom: 25px;
            font-size: 2.2em;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section h3 {
            color: #2a5298;
            margin: 30px 0 20px 0;
            font-size: 1.7em;
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 10px;
        }

        .hinglish {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border-left: 5px solid #f59e0b;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.2);
        }

        .technical {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border-left: 5px solid #3b82f6;
            font-family: 'Courier New', monospace;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.2);
        }

        .demo-box {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
            border: 2px solid #e5e7eb;
        }

        .btn {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 8px;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }

        .btn-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
        }

        .btn-purple {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }

        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 25px;
            border-radius: 12px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            position: relative;
        }

        .code-block::before {
            content: 'CODE';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 0.7em;
            color: #64748b;
            font-weight: bold;
        }

        .keyword { color: #c678dd; font-weight: bold; }
        .string { color: #98c379; }
        .function { color: #61afef; }
        .comment { color: #5c6370; font-style: italic; }
        .number { color: #d19a66; }
        .operator { color: #56b6c2; }

        .api-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 25px 0;
        }

        .api-request, .api-response {
            background: #f8fafc;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #e5e7eb;
        }

        .api-request h4, .api-response h4 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .method-badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin-right: 10px;
        }

        .method-get { background: #10b981; color: white; }
        .method-post { background: #3b82f6; color: white; }
        .method-put { background: #f59e0b; color: white; }
        .method-delete { background: #ef4444; color: white; }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .data-table th {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 18px;
            text-align: left;
            font-weight: 600;
        }

        .data-table td {
            padding: 15px 18px;
            border-bottom: 1px solid #e5e7eb;
        }

        .data-table tr:hover {
            background: #f8fafc;
        }

        .data-table tr:last-child td {
            border-bottom: none;
        }

        .status-indicator {
            display: inline-block;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            margin-right: 10px;
            animation: pulse 2s infinite;
        }

        .status-success { background: #10b981; }
        .status-error { background: #ef4444; }
        .status-loading { background: #f59e0b; }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        .auth-flow {
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 30px;
            background: white;
            border-radius: 15px;
            margin: 25px 0;
            flex-wrap: wrap;
            gap: 20px;
        }

        .auth-step {
            text-align: center;
            padding: 25px;
            background: linear-gradient(135deg, #f8fafc 0%, #e5e7eb 100%);
            border-radius: 15px;
            min-width: 150px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .auth-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .auth-step .icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .arrow {
            font-size: 2.5em;
            color: #3b82f6;
            animation: slideRight 1.5s ease-in-out infinite;
        }

        @keyframes slideRight {
            0%, 100% { transform: translateX(0); opacity: 0.5; }
            50% { transform: translateX(10px); opacity: 1; }
        }

        .crud-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .crud-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            border-top: 4px solid #3b82f6;
            transition: all 0.3s ease;
        }

        .crud-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }

        .crud-card h4 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .pagination-demo {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .page-btn {
            padding: 10px 18px;
            background: white;
            border: 2px solid #3b82f6;
            color: #3b82f6;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .page-btn:hover {
            background: #3b82f6;
            color: white;
        }

        .page-btn.active {
            background: #3b82f6;
            color: white;
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .interview-section {
            background: linear-gradient(135deg, #7e22ce 0%, #6b21a8 100%);
            color: white;
            padding: 50px;
            border-radius: 20px;
            margin-top: 50px;
        }

        .question-card {
            background: white;
            color: #333;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .question-card:hover {
            transform: translateX(10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .question-card h4 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .answer {
            display: none;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 3px solid #e5e7eb;
            animation: fadeIn 0.4s ease;
        }

        .answer.show {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .difficulty {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin-left: 12px;
        }

        .difficulty.easy {
            background: #d1fae5;
            color: #065f46;
        }

        .difficulty.medium {
            background: #fef3c7;
            color: #92400e;
        }

        .difficulty.hard {
            background: #fee2e2;
            color: #991b1b;
        }

        .emoji {
            font-size: 1.3em;
        }

        .interactive-console {
            background: #1e293b;
            color: #10b981;
            padding: 20px;
            border-radius: 12px;
            font-family: 'Courier New', monospace;
            min-height: 200px;
            max-height: 400px;
            overflow-y: auto;
            margin: 20px 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .console-line {
            margin: 8px 0;
            animation: typeIn 0.3s ease;
        }

        @keyframes typeIn {
            from { opacity: 0; transform: translateX(-10px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .console-error { color: #ef4444; }
        .console-success { color: #10b981; }
        .console-info { color: #3b82f6; }
        .console-warning { color: #f59e0b; }

        .input-group {
            margin: 15px 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #1e3c72;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .mern-stack {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .stack-layer {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .stack-layer:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .stack-layer .icon {
            font-size: 4em;
            margin-bottom: 15px;
        }

        .stack-layer h4 {
            color: #1e3c72;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        @media (max-width: 1024px) {
            .mern-stack {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .api-demo {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2em;
            }

            .content {
                padding: 25px;
            }

            .section {
                padding: 25px;
            }

            .mern-stack {
                grid-template-columns: 1fr;
            }

            .auth-flow {
                flex-direction: column;
            }

            .arrow {
                transform: rotate(90deg);
            }
        }

        .loading-spinner {
            border: 4px solid #f3f4f6;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .cache-visual {
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 30px;
            background: white;
            border-radius: 15px;
            margin: 25px 0;
            flex-wrap: wrap;
            gap: 20px;
        }

        .cache-box {
            padding: 20px;
            border-radius: 12px;
            min-width: 150px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .cache-hit {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border: 3px solid #10b981;
        }

        .cache-miss {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            border: 3px solid #ef4444;
        }

        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
            border-bottom: 2px dotted #3b82f6;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 250px;
            background-color: #1e293b;
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9em;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ Backend Integration - MERN Stack</h1>
            <p>MongoDB, Express, React, Node.js ka complete integration guide</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
        </header>

        <div class="content">
            <!-- MERN Stack Overview -->
            <div class="section">
                <h2><span class="emoji">üèóÔ∏è</span> MERN Stack Architecture</h2>
                
                <div class="hinglish">
                    <strong>MERN Stack kya hai?</strong><br>
                    MERN ek full-stack JavaScript framework hai jisme 4 powerful technologies hain. Ye sabhi JavaScript-based hain, matlab ek hi language mein pura application bana sakte ho - frontend se backend tak! Ye modern web development ka sabse popular stack hai. üí™
                </div>

                <div class="technical">
                    <strong>Technical Definition:</strong><br>
                    MERN Stack is a JavaScript-based technology stack consisting of MongoDB (NoSQL database), Express.js (backend framework), React.js (frontend library), and Node.js (runtime environment). It enables full-stack JavaScript development with a unified language across client and server.
                </div>

                <div class="mern-stack">
                    <div class="stack-layer">
                        <div class="icon">üçÉ</div>
                        <h4>MongoDB</h4>
                        <p>NoSQL Database</p>
                        <small>Document-based storage</small>
                    </div>
                    <div class="stack-layer">
                        <div class="icon">üöÇ</div>
                        <h4>Express.js</h4>
                        <p>Backend Framework</p>
                        <small>RESTful API creation</small>
                    </div>
                    <div class="stack-layer">
                        <div class="icon">‚öõÔ∏è</div>
                        <h4>React.js</h4>
                        <p>Frontend Library</p>
                        <small>UI component building</small>
                    </div>
                    <div class="stack-layer">
                        <div class="icon">üü¢</div>
                        <h4>Node.js</h4>
                        <p>Runtime Environment</p>
                        <small>Server-side JavaScript</small>
                    </div>
                </div>

                <h3>Data Flow in MERN</h3>
                <div class="auth-flow">
                    <div class="auth-step">
                        <div class="icon">üë§</div>
                        <strong>User</strong>
                        <p>Browser</p>
                    </div>
                    <div class="arrow">‚Üí</div>
                    <div class="auth-step">
                        <div class="icon">‚öõÔ∏è</div>
                        <strong>React</strong>
                        <p>Frontend</p>
                    </div>
                    <div class="arrow">‚Üí</div>
                    <div class="auth-step">
                        <div class="icon">üöÇ</div>
                        <strong>Express</strong>
                        <p>API Layer</p>
                    </div>
                    <div class="arrow">‚Üí</div>
                    <div class="auth-step">
                        <div class="icon">üçÉ</div>
                        <strong>MongoDB</strong>
                        <p>Database</p>
                    </div>
                </div>
            </div>

            <!-- CRUD Operations -->
            <div class="section">
                <h2><span class="emoji">üìù</span> CRUD Operations</h2>
                
                <div class="hinglish">
                    <strong>CRUD kya hai?</strong><br>
                    CRUD matlab <strong>Create, Read, Update, Delete</strong> - ye 4 basic operations hain jo har application mein hote hain. Jaise social media pe post create karna, posts read karna, edit karna, aur delete karna. Ye database operations ka foundation hai! üéØ
                </div>

                <div class="technical">
                    <strong>Technical Definition:</strong><br>
                    CRUD represents the four basic operations of persistent storage: Create (POST), Read (GET), Update (PUT/PATCH), and Delete (DELETE). These operations map to HTTP methods and database operations, forming the foundation of RESTful API design.
                </div>

                <div class="crud-grid">
                    <div class="crud-card">
                        <h4>üÜï CREATE</h4>
                        <span class="method-badge method-post">POST</span>
                        <p>Naya data add karo database mein</p>
                        <code>/api/users</code>
                    </div>
                    <div class="crud-card">
                        <h4>üìñ READ</h4>
                        <span class="method-badge method-get">GET</span>
                        <p>Data fetch karo database se</p>
                        <code>/api/users/:id</code>
                    </div>
                    <div class="crud-card">
                        <h4>‚úèÔ∏è UPDATE</h4>
                        <span class="method-badge method-put">PUT</span>
                        <p>Existing data modify karo</p>
                        <code>/api/users/:id</code>
                    </div>
                    <div class="crud-card">
                        <h4>üóëÔ∏è DELETE</h4>
                        <span class="method-badge method-delete">DELETE</span>
                        <p>Data remove karo database se</p>
                        <code>/api/users/:id</code>
                    </div>
                </div>

                <h3>üéÆ Interactive CRUD Demo</h3>
                <div class="demo-box">
                    <div class="input-group">
                        <label>User Name:</label>
                        <input type="text" id="userName" placeholder="Enter name...">
                    </div>
                    <div class="input-group">
                        <label>Email:</label>
                        <input type="email" id="userEmail" placeholder="Enter email...">
                    </div>
                    
                    <div style="margin: 20px 0;">
                        <button class="btn btn-success" onclick="createUser()">
                            <span class="emoji">‚ûï</span> Create User
                        </button>
                        <button class="btn" onclick="readUsers()">
                            <span class="emoji">üìñ</span> Read All Users
                        </button>
                        <button class="btn btn-warning" onclick="updateUser()">
                            <span class="emoji">‚úèÔ∏è</span> Update User
                        </button>
                        <button class="btn btn-danger" onclick="deleteUser()">
                            <span class="emoji">üóëÔ∏è</span> Delete User
                        </button>
                    </div>

                    <div class="interactive-console" id="crudConsole">
                        <div class="console-line console-info">üí° CRUD operations console ready...</div>
                        <div class="console-line console-info">üëâ Try creating a user first!</div>
                    </div>

                    <table class="data-table" id="usersTable" style="display: none;">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Created At</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody"></tbody>
                    </table>
                </div>

                <h3>Backend Code Example</h3>
                <div class="code-block">
<span class="comment">// Express.js CRUD Routes</span>
<span class="keyword">const</span> express = <span class="function">require</span>(<span class="string">'express'</span>);
<span class="keyword">const</span> router = express.<span class="function">Router</span>();
<span class="keyword">const</span> User = <span class="function">require</span>(<span class="string">'./models/User'</span>);

<span class="comment">// CREATE - New user banao</span>
router.<span class="function">post</span>(<span class="string">'/users'</span>, <span class="keyword">async</span> (req, res) => {
    <span class="keyword">try</span> {
        <span class="keyword">const</span> user = <span class="keyword">new</span> <span class="function">User</span>(req.body);
        <span class="keyword">await</span> user.<span class="function">save</span>();
        res.<span class="function">status</span>(<span class="number">201</span>).<span class="function">json</span>(user);
    } <span class="keyword">catch</span> (error) {
        res.<span class="function">status</span>(<span class="number">400</span>).<span class="function">json</span>({ error: error.message });
    }
});

<span class="comment">// READ - Sabhi users fetch karo</span>
router.<span class="function">get</span>(<span class="string">'/users'</span>, <span class="keyword">async</span> (req, res) => {
    <span class="keyword">try</span> {
        <span class="keyword">const</span> users = <span class="keyword">await</span> User.<span class="function">find</span>();
        res.<span class="function">json</span>(users);
    } <span class="keyword">catch</span> (error) {
        res.<span class="function">status</span>(<span class="number">500</span>).<span class="function">json</span>({ error: error.message });
    }
});

<span class="comment">// UPDATE - User update karo</span>
router.<span class="function">put</span>(<span class="string">'/users/:id'</span>, <span class="keyword">async</span> (req, res) => {
    <span class="keyword">try</span> {
        <span class="keyword">const</span> user = <span class="keyword">await</span> User.<span class="function">findByIdAndUpdate</span>(
            req.params.id,
            req.body,
            { new: <span class="keyword">true</span>, runValidators: <span class="keyword">true</span> }
        );
        res.<span class="function">json</span>(user);
    } <span class="keyword">catch</span> (error) {
        res.<span class="function">status</span>(<span class="number">400</span>).<span class="function">json</span>({ error: error.message });
    }
});

<span class="comment">// DELETE - User delete karo</span>
router.<span class="function">delete</span>(<span class="string">'/users/:id'</span>, <span class="keyword">async</span> (req, res) => {
    <span class="keyword">try</span> {
        <span class="keyword">await</span> User.<span class="function">findByIdAndDelete</span>(req.params.id);
        res.<span class="function">json</span>({ message: <span class="string">'User deleted successfully'</span> });
    } <span class="keyword">catch</span> (error) {
        res.<span class="function">status</span>(<span class="number">500</span>).<span class="function">json</span>({ error: error.message });
    }
});

module.exports = router;
                </div>
            </div>

            <!-- Pagination -->
            <div class="section">
                <h2><span class="emoji">üìÑ</span> Pagination</h2>
                
                <div class="hinglish">
                    <strong>Pagination kyun zaroori hai?</strong><br>
                    Socho agar tumhare database mein 10,000 users hain aur tum sabko ek saath load karo - browser crash ho jayega! üò± Pagination se data ko chhote pages mein divide karte hain. Jaise Google search results - ek page pe sirf 10 results, baaki next page pe. Ye performance aur user experience dono improve karta hai! üöÄ
                </div>

                <div class="technical">
                    <strong>Technical Definition:</strong><br>
                    Pagination is the process of dividing large datasets into discrete pages. It improves performance by limiting the amount of data transferred and rendered at once. Common implementations include offset-based pagination (LIMIT/OFFSET) and cursor-based pagination for better scalability.
                </div>

                <h3>üéÆ Interactive Pagination Demo</h3>
                <div class="demo-box">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <strong>Total Items: <span id="totalItems">100</span></strong> | 
                        <strong>Items per page: <span id="itemsPerPage">10</span></strong>
                    </div>

                    <div class="pagination-demo">
                        <button class="page-btn" onclick="changePage('first')">‚èÆÔ∏è First</button>
                        <button class="page-btn" onclick="changePage('prev')">‚óÄÔ∏è Prev</button>
                        <button class="page-btn active" id="page1" onclick="goToPage(1)">1</button>
                        <button class="page-btn" id="page2" onclick="goToPage(2)">2</button>
                        <button class="page-btn" id="page3" onclick="goToPage(3)">3</button>
                        <button class="page-btn" id="page4" onclick="goToPage(4)">4</button>
                        <button class="page-btn" id="page5" onclick="goToPage(5)">5</button>
                        <button class="page-btn" onclick="changePage('next')">‚ñ∂Ô∏è Next</button>
                        <button class="page-btn" onclick="changePage('last')">‚è≠Ô∏è Last</button>
                    </div>

                    <div style="text-align: center; margin: 20px 0;">
                        <strong>Current Page: <span id="currentPage">1</span> / <span id="totalPages">10</span></strong>
                    </div>

                    <div class="interactive-console" id="paginationConsole">
                        <div class="console-line console-success">‚úÖ Showing items 1-10 of 100</div>
                    </div>
                </div>

                <h3>Pagination Implementation</h3>
                <div class="code-block">
<span class="comment">// Backend - Express.js pagination</span>
router.<span class="function">get</span>(<span class="string">'/users'</span>, <span class="keyword">async</span> (req, res) => {
    <span class="keyword">try</span> {
        <span class="keyword">const</span> page = <span class="function">parseInt</span>(req.query.page) || <span class="number">1</span>;
        <span class="keyword">const</span> limit = <span class="function">parseInt</span>(req.query.limit) || <span class="number">10</span>;
        <span class="keyword">const</span> skip = (page - <span class="number">1</span>) * limit;

        <span class="keyword">const</span> users = <span class="keyword">await</span> User.<span class="function">find</span>()
            .<span class="function">skip</span>(skip)
            .<span class="function">limit</span>(limit)
            .<span class="function">sort</span>({ createdAt: <span class="number">-1</span> });

        <span class="keyword">const</span> total = <span class="keyword">await</span> User.<span class="function">countDocuments</span>();

        res.<span class="function">json</span>({
            users,
            currentPage: page,
            totalPages: Math.<span class="function">ceil</span>(total / limit),
            totalItems: total
        });
    } <span class="keyword">catch</span> (error) {
        res.<span class="function">status</span>(<span class="number">500</span>).<span class="function">json</span>({ error: error.message });
    }
});

<span class="comment">// Frontend - React pagination hook</span>
<span class="keyword">const</span> <span class="function">usePagination</span> = (url, itemsPerPage = <span class="number">10</span>) => {
    <span class="keyword">const</span> [data, setData] = <span class="function">useState</span>([]);
    <span class="keyword">const</span> [page, setPage] = <span class="function">useState</span>(<span class="number">1</span>);
    <span class="keyword">const</span> [totalPages, setTotalPages] = <span class="function">useState</span>(<span class="number">0</span>);
    <span class="keyword">const</span> [loading, setLoading] = <span class="function">useState</span>(<span class="keyword">false</span>);

    <span class="function">useEffect</span>(() => {
        <span class="keyword">const</span> <span class="function">fetchData</span> = <span class="keyword">async</span> () => {
            setLoading(<span class="keyword">true</span>);
            <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="function">fetch</span>(<span class="string">`</span>${url}<span class="string">?page=</span>${page}<span class="string">&limit=</span>${itemsPerPage}<span class="string">`</span>);
            <span class="keyword">const</span> result = <span class="keyword">await</span> response.<span class="function">json</span>();
            <span class="function">setData</span>(result.users);
            <span class="function">setTotalPages</span>(result.totalPages);
            setLoading(<span class="keyword">false</span>);
        };
        <span class="function">fetchData</span>();
    }, [page, url, itemsPerPage]);

    <span class="keyword">return</span> { data, page, setPage, totalPages, loading };
};
                </div>
            </div>

            <!-- Authentication & Authorization -->
            <div class="section">
                <h2><span class="emoji">üîê</span> Authentication & Authorization</h2>
                
                <div class="hinglish">
                    <strong>Authentication vs Authorization - Difference samjho!</strong><br>
                    <strong>Authentication:</strong> "Tum kaun ho?" - User ki identity verify karna. Jaise login karte waqt username/password check karna. üîë<br>
                    <strong>Authorization:</strong> "Tumhe kya karne ki permission hai?" - User ko specific resources access karne ki permission check karna. Jaise admin panel sirf admin dekh sakta hai. üõ°Ô∏è
                </div>

                <div class="technical">
                    <strong>Technical Definition:</strong><br>
                    <strong>Authentication:</strong> The process of verifying the identity of a user or system. Common methods include JWT (JSON Web Tokens), OAuth, and session-based authentication.<br>
                    <strong>Authorization:</strong> The process of determining what resources an authenticated user can access. Typically implemented using role-based access control (RBAC) or permission-based systems.
                </div>

                <h3>Authentication Flow</h3>
                <div class="auth-flow">
                    <div class="auth-step">
                        <div class="icon">üë§</div>
                        <strong>Login</strong>
                        <p>Credentials</p>
                    </div>
                    <div class="arrow">‚Üí</div>
                    <div class="auth-step">
                        <div class="icon">‚úÖ</div>
                        <strong>Verify</strong>
                        <p>Check DB</p>
                    </div>
                    <div class="arrow">‚Üí</div>
                    <div class="auth-step">
                        <div class="icon">üé´</div>
                        <strong>Token</strong>
                        <p>JWT Generate</p>
                    </div>
                    <div class="arrow">‚Üí</div>
                    <div class="auth-step">
                        <div class="icon">üîì</div>
                        <strong>Access</strong>
                        <p>Protected Routes</p>
                    </div>
                </div>

                <h3>üéÆ Interactive Auth Demo</h3>
                <div class="demo-box">
                    <div class="input-group">
                        <label>Username:</label>
                        <input type="text" id="authUsername" placeholder="Enter username...">
                    </div>
                    <div class="input-group">
                        <label>Password:</label>
                        <input type="password" id="authPassword" placeholder="Enter password...">
                    </div>
                    <div class="input-group">
                        <label>Role:</label>
                        <select id="authRole">
                            <option value="user">User</option>
                            <option value="admin">Admin</option>
                            <option value="moderator">Moderator</option>
                        </select>
                    </div>

                    <div style="margin: 20px 0;">
                        <button class="btn btn-success" onclick="simulateLogin()">
                            <span class="emoji">üîë</span> Login
                        </button>
                        <button class="btn btn-danger" onclick="simulateLogout()">
                            <span class="emoji">üö™</span> Logout
                        </button>
                        <button class="btn btn-purple" onclick="accessProtectedRoute()">
                            <span class="emoji">üîí</span> Access Protected Route
                        </button>
                    </div>

                    <div style="text-align: center; margin: 15px 0;">
                        <span class="status-indicator" id="authStatus"></span>
                        <strong id="authStatusText">Not Authenticated</strong>
                    </div>

                    <div class="interactive-console" id="authConsole">
                        <div class="console-line console-info">üîê Authentication system ready</div>
                        <div class="console-line console-info">üëâ Try logging in with any credentials</div>
                    </div>
                </div>

                <h3>JWT Implementation</h3>
                <div class="code-block">
<span class="comment">// Backend - JWT Authentication</span>
<span class="keyword">const</span> jwt = <span class="function">require</span>(<span class="string">'jsonwebtoken'</span>);
<span class="keyword">const</span> bcrypt = <span class="function">require</span>(<span class="string">'bcryptjs'</span>);

<span class="comment">// Login route</span>
router.<span class="function">post</span>(<span class="string">'/login'</span>, <span class="keyword">async</span> (req, res) => {
    <span class="keyword">try</span> {
        <span class="keyword">const</span> { email, password } = req.body;
        
        <span class="comment">// User find karo</span>
        <span class="keyword">const</span> user = <span class="keyword">await</span> User.<span class="function">findOne</span>({ email });
        <span class="keyword">if</span> (!user) {
            <span class="keyword">return</span> res.<span class="function">status</span>(<span class="number">401</span>).<span class="function">json</span>({ error: <span class="string">'Invalid credentials'</span> });
        }

        <span class="comment">// Password verify karo</span>
        <span class="keyword">const</span> isMatch = <span class="keyword">await</span> bcrypt.<span class="function">compare</span>(password, user.password);
        <span class="keyword">if</span> (!isMatch) {
            <span class="keyword">return</span> res.<span class="function">status</span>(<span class="number">401</span>).<span class="function">json</span>({ error: <span class="string">'Invalid credentials'</span> });
        }

        <span class="comment">// JWT token generate karo</span>
        <span class="keyword">const</span> token = jwt.<span class="function">sign</span>(
            { userId: user._id, role: user.role },
            process.env.JWT_SECRET,
            { expiresIn: <span class="string">'7d'</span> }
        );

        res.<span class="function">json</span>({ token, user: { id: user._id, email: user.email, role: user.role } });
    } <span class="keyword">catch</span> (error) {
        res.<span class="function">status</span>(<span class="number">500</span>).<span class="function">json</span>({ error: error.message });
    }
});

<span class="comment">// Middleware - Token verify karo</span>
<span class="keyword">const</span> <span class="function">authMiddleware</span> = (req, res, next) => {
    <span class="keyword">const</span> token = req.header(<span class="string">'Authorization'</span>)?.<span class="function">replace</span>(<span class="string">'Bearer '</span>, <span class="string">''</span>);
    
    <span class="keyword">if</span> (!token) {
        <span class="keyword">return</span> res.<span class="function">status</span>(<span class="number">401</span>).<span class="function">json</span>({ error: <span class="string">'No token provided'</span> });
    }

    <span class="keyword">try</span> {
        <span class="keyword">const</span> decoded = jwt.<span class="function">verify</span>(token, process.env.JWT_SECRET);
        req.user = decoded;
        <span class="function">next</span>();
    } <span class="keyword">catch</span> (error) {
        res.<span class="function">status</span>(<span class="number">401</span>).<span class="function">json</span>({ error: <span class="string">'Invalid token'</span> });
    }
};

<span class="comment">// Authorization middleware - Role check karo</span>
<span class="keyword">const</span> <span class="function">authorize</span> = (...roles) => {
    <span class="keyword">return</span> (req, res, next) => {
        <span class="keyword">if</span> (!roles.<span class="function">includes</span>(req.user.role)) {
            <span class="keyword">return</span> res.<span class="function">status</span>(<span class="number">403</span>).<span class="function">json</span>({ error: <span class="string">'Access denied'</span> });
        }
        <span class="function">next</span>();
    };
};

<span class="comment">// Protected route - Sirf admin access kar sakta hai</span>
router.<span class="function">get</span>(<span class="string">'/admin/users'</span>, authMiddleware, <span class="function">authorize</span>(<span class="string">'admin'</span>), <span class="keyword">async</span> (req, res) => {
    <span class="keyword">const</span> users = <span class="keyword">await</span> User.<span class="function">find</span>();
    res.<span class="function">json</span>(users);
});
                </div>
            </div>

            <!-- Error Handling & Retries -->
            <div class="section">
                <h2><span class="emoji">‚ö†Ô∏è</span> Error Handling, Retries & Caching</h2>
                
                <div class="hinglish">
                    <strong>Error Handling kyun important hai?</strong><br>
                    Production mein kabhi bhi kuch bhi galat ho sakta hai - network fail, database down, invalid data. Agar proper error handling nahi hai toh app crash ho jayega! üí• Good error handling se user ko meaningful message milta hai aur app stable rehta hai. Retries se temporary failures handle kar sakte ho, aur caching se performance boost milta hai! üöÄ
                </div>

                <div class="technical">
                    <strong>Technical Definition:</strong><br>
                    <strong>Error Handling:</strong> The process of anticipating, detecting, and resolving application errors gracefully. Includes try-catch blocks, error boundaries, and centralized error handling.<br>
                    <strong>Retries:</strong> Automatic retry mechanism for failed requests, typically with exponential backoff to handle transient failures.<br>
                    <strong>Caching:</strong> Storing frequently accessed data in memory to reduce database queries and improve response times.
                </div>

                <h3>üéÆ Interactive Error Handling Demo</h3>
                <div class="demo-box">
                    <div class="input-group">
                        <label>Select Scenario:</label>
                        <select id="errorScenario">
                            <option value="success">‚úÖ Successful Request</option>
                            <option value="network">üåê Network Error</option>
                            <option value="timeout">‚è±Ô∏è Timeout Error</option>
                            <option value="validation">üìù Validation Error</option>
                            <option value="auth">üîê Authentication Error</option>
                            <option value="server">üí• Server Error (500)</option>
                        </select>
                    </div>

                    <div style="margin: 20px 0;">
                        <button class="btn" onclick="simulateRequest()">
                            <span class="emoji">üöÄ</span> Send Request
                        </button>
                        <button class="btn btn-warning" onclick="simulateRetry()">
                            <span class="emoji">üîÑ</span> Retry with Backoff
                        </button>
                        <button class="btn btn-success" onclick="checkCache()">
                            <span class="emoji">üíæ</span> Check Cache
                        </button>
                    </div>

                    <div class="interactive-console" id="errorConsole">
                        <div class="console-line console-info">‚ö° Error handling system ready</div>
                        <div class="console-line console-info">üëâ Select a scenario and send request</div>
                    </div>
                </div>

                <h3>Cache Visualization</h3>
                <div class="cache-visual">
                    <div class="cache-box cache-hit">
                        <div style="font-size: 3em;">‚ö°</div>
                        <strong>Cache Hit</strong>
                        <p>Fast Response</p>
                        <small>~5ms</small>
                    </div>
                    <div style="font-size: 2em; color: #3b82f6;">VS</div>
                    <div class="cache-box cache-miss">
                        <div style="font-size: 3em;">üêå</div>
                        <strong>Cache Miss</strong>
                        <p>Database Query</p>
                        <small>~200ms</small>
                    </div>
                </div>

                <h3>Error Handling Implementation</h3>
                <div class="code-block">
<span class="comment">// Global error handler middleware</span>
<span class="keyword">const</span> <span class="function">errorHandler</span> = (err, req, res, next) => {
    console.<span class="function">error</span>(err.stack);

    <span class="comment">// Mongoose validation error</span>
    <span class="keyword">if</span> (err.name === <span class="string">'ValidationError'</span>) {
        <span class="keyword">return</span> res.<span class="function">status</span>(<span class="number">400</span>).<span class="function">json</span>({
            error: <span class="string">'Validation Error'</span>,
            details: err.errors
        });
    }

    <span class="comment">// JWT error</span>
    <span class="keyword">if</span> (err.name === <span class="string">'JsonWebTokenError'</span>) {
        <span class="keyword">return</span> res.<span class="function">status</span>(<span class="number">401</span>).<span class="function">json</span>({ error: <span class="string">'Invalid token'</span> });
    }

    <span class="comment">// Default error</span>
    res.<span class="function">status</span>(err.status || <span class="number">500</span>).<span class="function">json</span>({
        error: err.message || <span class="string">'Internal Server Error'</span>
    });
};

<span class="comment">// Retry logic with exponential backoff</span>
<span class="keyword">const</span> <span class="function">fetchWithRetry</span> = <span class="keyword">async</span> (url, options = {}, maxRetries = <span class="number">3</span>) => {
    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i <= maxRetries; i++) {
        <span class="keyword">try</span> {
            <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="function">fetch</span>(url, options);
            <span class="keyword">if</span> (!response.ok) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">Error</span>(<span class="string">`HTTP </span>${response.status}<span class="string">`</span>);
            <span class="keyword">return</span> <span class="keyword">await</span> response.<span class="function">json</span>();
        } <span class="keyword">catch</span> (error) {
            <span class="keyword">if</span> (i === maxRetries) <span class="keyword">throw</span> error;
            
            <span class="comment">// Exponential backoff: 1s, 2s, 4s</span>
            <span class="keyword">const</span> delay = Math.<span class="function">pow</span>(<span class="number">2</span>, i) * <span class="number">1000</span>;
            console.<span class="function">log</span>(<span class="string">`Retry </span>${i + <span class="number">1</span>}<span class="string"> after </span>${delay}<span class="string">ms`</span>);
            <span class="keyword">await</span> <span class="keyword">new</span> <span class="function">Promise</span>(resolve => <span class="function">setTimeout</span>(resolve, delay));
        }
    }
};

<span class="comment">// Redis caching implementation</span>
<span class="keyword">const</span> redis = <span class="function">require</span>(<span class="string">'redis'</span>);
<span class="keyword">const</span> client = redis.<span class="function">createClient</span>();

<span class="keyword">const</span> <span class="function">cacheMiddleware</span> = (duration) => {
    <span class="keyword">return</span> <span class="keyword">async</span> (req, res, next) => {
        <span class="keyword">const</span> key = <span class="string">`cache:</span>${req.originalUrl}<span class="string">`</span>;
        
        <span class="keyword">try</span> {
            <span class="keyword">const</span> cachedData = <span class="keyword">await</span> client.<span class="function">get</span>(key);
            <span class="keyword">if</span> (cachedData) {
                console.<span class="function">log</span>(<span class="string">'Cache hit!'</span>);
                <span class="keyword">return</span> res.<span class="function">json</span>(JSON.<span class="function">parse</span>(cachedData));
            }
            
            <span class="comment">// Cache miss - continue to route handler</span>
            res.sendResponse = res.json;
            res.json = (data) => {
                client.<span class="function">setex</span>(key, duration, JSON.<span class="function">stringify</span>(data));
                res.<span class="function">sendResponse</span>(data);
            };
            <span class="function">next</span>();
        } <span class="keyword">catch</span> (error) {
            console.<span class="function">error</span>(<span class="string">'Cache error:'</span>, error);
            <span class="function">next</span>();
        }
    };
};

<span class="comment">// Use caching in routes</span>
router.<span class="function">get</span>(<span class="string">'/users'</span>, <span class="function">cacheMiddleware</span>(<span class="number">300</span>), <span class="keyword">async</span> (req, res) => {
    <span class="keyword">const</span> users = <span class="keyword">await</span> User.<span class="function">find</span>();
    res.<span class="function">json</span>(users);
});
                </div>
            </div>

            <!-- Secure API Integration -->
            <div class="section">
                <h2><span class="emoji">üõ°Ô∏è</span> Secure API Integration Patterns</h2>
                
                <div class="hinglish">
                    <strong>API Security kyun zaroori hai?</strong><br>
                    Tumhara API internet pe exposed hai, matlab koi bhi access kar sakta hai! üò± Agar security nahi hai toh hackers tumhara data chura sakte hain, unauthorized access le sakte hain, ya DDoS attack kar sakte hain. Security layers lagane se tumhara API safe rehta hai aur sirf authorized users hi access kar sakte hain! üîí
                </div>

                <div class="technical">
                    <strong>Technical Definition:</strong><br>
                    Secure API integration involves implementing multiple security layers including authentication (JWT, OAuth), authorization (RBAC), input validation, rate limiting, CORS configuration, HTTPS enforcement, and protection against common vulnerabilities (SQL injection, XSS, CSRF).
                </div>

                <h3>Security Layers</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Security Layer</th>
                            <th>Purpose</th>
                            <th>Implementation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>üîê Authentication</td>
                            <td>User identity verify karna</td>
                            <td>JWT, OAuth 2.0, Session</td>
                        </tr>
                        <tr>
                            <td>üõ°Ô∏è Authorization</td>
                            <td>Access permissions check karna</td>
                            <td>RBAC, ACL, Permissions</td>
                        </tr>
                        <tr>
                            <td>üö¶ Rate Limiting</td>
                            <td>Abuse aur DDoS prevent karna</td>
                            <td>Express-rate-limit, Redis</td>
                        </tr>
                        <tr>
                            <td>‚úÖ Input Validation</td>
                            <td>Malicious data block karna</td>
                            <td>Joi, Express-validator</td>
                        </tr>
                        <tr>
                            <td>üåê CORS</td>
                            <td>Cross-origin requests control</td>
                            <td>CORS middleware</td>
                        </tr>
                        <tr>
                            <td>üîí HTTPS</td>
                            <td>Data encryption in transit</td>
                            <td>SSL/TLS certificates</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Security Implementation</h3>
                <div class="code-block">
<span class="comment">// 1. Rate Limiting - DDoS protection</span>
<span class="keyword">const</span> rateLimit = <span class="function">require</span>(<span class="string">'express-rate-limit'</span>);

<span class="keyword">const</span> limiter = <span class="function">rateLimit</span>({
    windowMs: <span class="number">15</span> * <span class="number">60</span> * <span class="number">1000</span>, <span class="comment">// 15 minutes</span>
    max: <span class="number">100</span>, <span class="comment">// 100 requests per window</span>
    message: <span class="string">'Too many requests, please try again later'</span>
});

app.<span class="function">use</span>(<span class="string">'/api/'</span>, limiter);

<span class="comment">// 2. Input Validation - Joi</span>
<span class="keyword">const</span> Joi = <span class="function">require</span>(<span class="string">'joi'</span>);

<span class="keyword">const</span> userSchema = Joi.<span class="function">object</span>({
    email: Joi.<span class="function">string</span>().<span class="function">email</span>().<span class="function">required</span>(),
    password: Joi.<span class="function">string</span>().<span class="function">min</span>(<span class="number">8</span>).<span class="function">required</span>(),
    name: Joi.<span class="function">string</span>().<span class="function">min</span>(<span class="number">3</span>).<span class="function">max</span>(<span class="number">50</span>).<span class="function">required</span>()
});

<span class="keyword">const</span> <span class="function">validate</span> = (schema) => {
    <span class="keyword">return</span> (req, res, next) => {
        <span class="keyword">const</span> { error } = schema.<span class="function">validate</span>(req.body);
        <span class="keyword">if</span> (error) {
            <span class="keyword">return</span> res.<span class="function">status</span>(<span class="number">400</span>).<span class="function">json</span>({ error: error.details[<span class="number">0</span>].message });
        }
        <span class="function">next</span>();
    };
};

router.<span class="function">post</span>(<span class="string">'/register'</span>, <span class="function">validate</span>(userSchema), <span class="keyword">async</span> (req, res) => {
    <span class="comment">// Registration logic</span>
});

<span class="comment">// 3. CORS Configuration</span>
<span class="keyword">const</span> cors = <span class="function">require</span>(<span class="string">'cors'</span>);

<span class="keyword">const</span> corsOptions = {
    origin: [<span class="string">'https://yourdomain.com'</span>, <span class="string">'https://app.yourdomain.com'</span>],
    credentials: <span class="keyword">true</span>,
    optionsSuccessStatus: <span class="number">200</span>
};

app.<span class="function">use</span>(<span class="function">cors</span>(corsOptions));

<span class="comment">// 4. Helmet - Security headers</span>
<span class="keyword">const</span> helmet = <span class="function">require</span>(<span class="string">'helmet'</span>);
app.<span class="function">use</span>(<span class="function">helmet</span>());

<span class="comment">// 5. SQL Injection Prevention - Parameterized queries</span>
<span class="comment">// ‚ùå BAD - SQL Injection vulnerable</span>
<span class="keyword">const</span> query = <span class="string">`SELECT * FROM users WHERE email = '</span>${email}<span class="string">'`</span>;

<span class="comment">// ‚úÖ GOOD - Parameterized query</span>
<span class="keyword">const</span> user = <span class="keyword">await</span> User.<span class="function">findOne</span>({ email }); <span class="comment">// Mongoose</span>

<span class="comment">// 6. XSS Prevention - Sanitize input</span>
<span class="keyword">const</span> mongoSanitize = <span class="function">require</span>(<span class="string">'express-mongo-sanitize'</span>);
app.<span class="function">use</span>(<span class="function">mongoSanitize</span>());

<span class="comment">// 7. Environment Variables - Sensitive data</span>
<span class="function">require</span>(<span class="string">'dotenv'</span>).<span class="function">config</span>();
<span class="keyword">const</span> JWT_SECRET = process.env.JWT_SECRET; <span class="comment">// Never hardcode!</span>
                </div>
            </div>

            <!-- Interview Questions -->
            <div class="interview-section">
                <h2 style="color: white; text-align: center; margin-bottom: 40px;">
                    <span class="emoji">üíº</span> Interview Questions
                </h2>

                <div class="question-card" onclick="toggleAnswer(1)">
                    <h4>Q1: MERN Stack mein data flow kaise hota hai? <span class="difficulty easy">Easy</span></h4>
                    <div class="answer" id="answer1">
                        <strong>Answer:</strong><br>
                        MERN Stack mein data flow ye hota hai:<br><br>
                        <strong>1. User Interaction (React):</strong> User browser mein kuch action karta hai (button click, form submit)<br><br>
                        <strong>2. API Call (React ‚Üí Express):</strong> React se HTTP request (GET/POST/PUT/DELETE) backend ko jati hai using fetch/axios<br><br>
                        <strong>3. Route Handling (Express):</strong> Express.js request ko receive karta hai aur appropriate route handler ko call karta hai<br><br>
                        <strong>4. Database Operation (Express ‚Üí MongoDB):</strong> Express MongoDB se data fetch/update karta hai using Mongoose<br><br>
                        <strong>5. Response (MongoDB ‚Üí Express ‚Üí React):</strong> Data wapas Express ko milta hai, jo JSON response React ko bhejta hai<br><br>
                        <strong>6. UI Update (React):</strong> React state update hota hai aur UI re-render hota hai<br><br>
                        <strong>Example Flow:</strong><br>
                        User clicks "Load Users" ‚Üí React calls GET /api/users ‚Üí Express queries MongoDB ‚Üí Returns user array ‚Üí React displays users in UI
                    </div>
                </div>

                <div class="question-card" onclick="toggleAnswer(2)">
                    <h4>Q2: RESTful API design ke best practices kya hain? <span class="difficulty medium">Medium</span></h4>
                    <div class="answer" id="answer2">
                        <strong>Answer:</strong><br>
                        <strong>RESTful API Best Practices:</strong><br><br>
                        <strong>1. Use Proper HTTP Methods:</strong><br>
                        - GET: Data retrieve karna (read)<br>
                        - POST: Naya resource create karna<br>
                        - PUT/PATCH: Existing resource update karna<br>
                        - DELETE: Resource delete karna<br><br>
                        <strong>2. Meaningful URLs:</strong><br>
                        - ‚úÖ /api/users (plural nouns)<br>
                        - ‚úÖ /api/users/123<br>
                        - ‚ùå /api/getUser (verbs avoid karo)<br><br>
                        <strong>3. Status Codes:</strong><br>
                        - 200: Success<br>
                        - 201: Created<br>
                        - 400: Bad Request<br>
                        - 401: Unauthorized<br>
                        - 404: Not Found<br>
                        - 500: Server Error<br><br>
                        <strong>4. Versioning:</strong> /api/v1/users<br><br>
                        <strong>5. Pagination:</strong> /api/users?page=1&limit=10<br><br>
                        <strong>6. Filtering & Sorting:</strong> /api/users?role=admin&sort=createdAt<br><br>
                        <strong>7. Consistent Response Format:</strong><br>
                        { success: true, data: {...}, message: "..." }
                    </div>
                </div>

                <div class="question-card" onclick="toggleAnswer(3)">
                    <h4>Q3: JWT authentication kaise implement karein aur kya security concerns hain? <span class="difficulty hard">Hard</span></h4>
                    <div class="answer" id="answer3">
                        <strong>Answer:</strong><br>
                        <strong>JWT Implementation:</strong><br><br>
                        <strong>1. Token Generation (Login):</strong><br>
                        - User credentials verify karo<br>
                        - JWT token generate karo with payload (userId, role)<br>
                        - Token client ko bhejo<br><br>
                        <strong>2. Token Storage (Client):</strong><br>
                        - localStorage (XSS vulnerable)<br>
                        - httpOnly cookies (better security)<br>
                        - Memory (most secure but lost on refresh)<br><br>
                        <strong>3. Token Verification (Protected Routes):</strong><br>
                        - Request headers se token extract karo<br>
                        - jwt.verify() se validate karo<br>
                        - Decoded data se user info access karo<br><br>
                        <strong>Security Concerns:</strong><br>
                        <strong>1. Token Expiry:</strong> Short-lived tokens use karo (15min-1hr)<br>
                        <strong>2. Refresh Tokens:</strong> Long-lived refresh tokens for new access tokens<br>
                        <strong>3. Secret Key:</strong> Strong, random secret key use karo (environment variable mein)<br>
                        <strong>4. HTTPS:</strong> Always use HTTPS to prevent token interception<br>
                        <strong>5. Token Revocation:</strong> Blacklist mechanism for logout<br>
                        <strong>6. XSS Protection:</strong> Sanitize inputs, use httpOnly cookies<br>
                        <strong>7. CSRF Protection:</strong> CSRF tokens use karo with cookies<br><br>
                        <strong>Best Practice:</strong> Access token (short-lived) + Refresh token (long-lived, httpOnly cookie)
                    </div>
                </div>

                <div class="question-card" onclick="toggleAnswer(4)">
                    <h4>Q4: Database queries ko optimize kaise karein? <span class="difficulty medium">Medium</span></h4>
                    <div class="answer" id="answer4">
                        <strong>Answer:</strong><br>
                        <strong>Database Query Optimization Techniques:</strong><br><br>
                        <strong>1. Indexing:</strong><br>
                        - Frequently queried fields pe index banao<br>
                        - userSchema.index({ email: 1 })<br>
                        - Compound indexes for multiple fields<br><br>
                        <strong>2. Select Only Required Fields:</strong><br>
                        - ‚ùå User.find() // Sabhi fields<br>
                        - ‚úÖ User.find().select('name email') // Sirf required fields<br><br>
                        <strong>3. Pagination:</strong><br>
                        - .skip() aur .limit() use karo<br>
                        - Large datasets ko chunks mein load karo<br><br>
                        <strong>4. Lean Queries:</strong><br>
                        - .lean() use karo for read-only operations<br>
                        - Plain JavaScript objects return karta hai (faster)<br><br>
                        <strong>5. Avoid N+1 Queries:</strong><br>
                        - .populate() use karo for related data<br>
                        - Batch queries instead of loops<br><br>
                        <strong>6. Caching:</strong><br>
                        - Redis use karo frequently accessed data ke liye<br>
                        - Cache invalidation strategy implement karo<br><br>
                        <strong>7. Query Analysis:</strong><br>
                        - .explain() use karo query performance check karne ke liye<br>
                        - Slow query logs monitor karo<br><br>
                        <strong>8. Connection Pooling:</strong><br>
                        - Database connection pool maintain karo<br>
                        - Reuse connections instead of creating new ones
                    </div>
                </div>

                <div class="question-card" onclick="toggleAnswer(5)">
                    <h4>Q5: Rate limiting kaise implement karein aur kyun zaroori hai? <span class="difficulty medium">Medium</span></h4>
                    <div class="answer" id="answer5">
                        <strong>Answer:</strong><br>
                        <strong>Rate Limiting Importance:</strong><br>
                        - DDoS attacks prevent karna<br>
                        - API abuse rokna<br>
                        - Server resources protect karna<br>
                        - Fair usage ensure karna<br><br>
                        <strong>Implementation Methods:</strong><br><br>
                        <strong>1. Fixed Window:</strong><br>
                        - Specific time window mein fixed number of requests<br>
                        - Example: 100 requests per 15 minutes<br>
                        - Simple but burst traffic allow karta hai<br><br>
                        <strong>2. Sliding Window:</strong><br>
                        - More accurate, rolling time window<br>
                        - Burst traffic better handle karta hai<br><br>
                        <strong>3. Token Bucket:</strong><br>
                        - Tokens regenerate over time<br>
                        - Burst traffic allow karta hai with limits<br><br>
                        <strong>Implementation with Express:</strong><br>
                        - express-rate-limit library use karo<br>
                        - Redis store for distributed systems<br>
                        - Different limits for different endpoints<br>
                        - User-based vs IP-based limiting<br><br>
                        <strong>Best Practices:</strong><br>
                        - Stricter limits for sensitive endpoints (login, register)<br>
                        - Relaxed limits for read operations<br>
                        - Return 429 status code with Retry-After header<br>
                        - Log rate limit violations for monitoring<br>
                        - Whitelist trusted IPs if needed
                    </div>
                </div>

                <div class="question-card" onclick="toggleAnswer(6)">
                    <h4>Q6: Microservices vs Monolithic architecture - MERN context mein kab kya use karein? <span class="difficulty hard">Hard</span></h4>
                    <div class="answer" id="answer6">
                        <strong>Answer:</strong><br>
                        <strong>Monolithic Architecture:</strong><br>
                        - Ek single codebase, ek deployment<br>
                        - Sabhi features ek application mein<br><br>
                        <strong>Pros:</strong><br>
                        - Simple development aur deployment<br>
                        - Easy debugging<br>
                        - No network latency between components<br>
                        - Good for small to medium applications<br><br>
                        <strong>Cons:</strong><br>
                        - Scaling difficult (pura app scale karna padta hai)<br>
                        - Technology stack locked<br>
                        - Large codebase maintain karna mushkil<br><br>
                        <strong>Microservices Architecture:</strong><br>
                        - Multiple independent services<br>
                        - Har service apna database aur logic<br><br>
                        <strong>Pros:</strong><br>
                        - Independent scaling (sirf required service scale karo)<br>
                        - Technology flexibility (har service different stack)<br>
                        - Fault isolation (ek service fail, baaki chal sakte hain)<br>
                        - Team independence<br><br>
                        <strong>Cons:</strong><br>
                        - Complex deployment aur monitoring<br>
                        - Network latency between services<br>
                        - Distributed system challenges<br>
                        - More infrastructure overhead<br><br>
                        <strong>MERN Context mein Decision:</strong><br>
                        <strong>Use Monolithic when:</strong><br>
                        - Small team (1-5 developers)<br>
                        - MVP ya prototype<br>
                        - Simple business logic<br>
                        - Limited traffic<br><br>
                        <strong>Use Microservices when:</strong><br>
                        - Large team (multiple teams)<br>
                        - Complex business domains<br>
                        - High scalability requirements<br>
                        - Different parts need different scaling<br>
                        - Example: Auth service, Payment service, Notification service separately
                    </div>
                </div>

                <div class="question-card" onclick="toggleAnswer(7)">
                    <h4>Q7: Production deployment ke liye kya kya considerations hain? <span class="difficulty hard">Hard</span></h4>
                    <div class="answer" id="answer7">
                        <strong>Answer:</strong><br>
                        <strong>Production Deployment Checklist:</strong><br><br>
                        <strong>1. Environment Configuration:</strong><br>
                        - Environment variables properly set (JWT_SECRET, DB_URL)<br>
                        - NODE_ENV=production<br>
                        - Sensitive data never hardcoded<br><br>
                        <strong>2. Security:</strong><br>
                        - HTTPS enabled (SSL/TLS certificates)<br>
                        - CORS properly configured<br>
                        - Rate limiting implemented<br>
                        - Input validation on all endpoints<br>
                        - Security headers (Helmet.js)<br>
                        - SQL injection & XSS protection<br><br>
                        <strong>3. Database:</strong><br>
                        - Database indexes created<br>
                        - Connection pooling configured<br>
                        - Backup strategy in place<br>
                        - Replica sets for high availability<br><br>
                        <strong>4. Performance:</strong><br>
                        - Caching implemented (Redis)<br>
                        - CDN for static assets<br>
                        - Gzip compression enabled<br>
                        - Database queries optimized<br>
                        - Load balancing configured<br><br>
                        <strong>5. Monitoring & Logging:</strong><br>
                        - Error tracking (Sentry, Rollbar)<br>
                        - Performance monitoring (New Relic, DataDog)<br>
                        - Log aggregation (ELK stack, CloudWatch)<br>
                        - Uptime monitoring (Pingdom, UptimeRobot)<br><br>
                        <strong>6. CI/CD:</strong><br>
                        - Automated testing<br>
                        - Automated deployment pipeline<br>
                        - Rollback strategy<br>
                        - Blue-green deployment<br><br>
                        <strong>7. Scalability:</strong><br>
                        - Horizontal scaling capability<br>
                        - Auto-scaling configured<br>
                        - Database sharding if needed<br><br>
                        <strong>8. Documentation:</strong><br>
                        - API documentation (Swagger)<br>
                        - Deployment runbook<br>
                        - Incident response plan
                    </div>
                </div>
            </div>

            <div style="text-align: center; padding: 50px; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e22ce 100%); color: white; border-radius: 20px; margin-top: 50px;">
                <h2>üéâ Congratulations!</h2>
                <p style="font-size: 1.3em; margin-top: 20px;">
                    Tumne Backend Integration ka complete journey complete kar liya!<br>
                    Ab tum production-ready MERN applications build kar sakte ho! üöÄ
                </p>
                <div style="margin-top: 30px; font-size: 3em;">
                    üèÜ üí™ üéØ ‚ö° üî•
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mock database for CRUD demo
        let users = [];
        let userId = 1;
        let currentAuthToken = null;
        let currentUserRole = null;

        // CRUD Operations
        function createUser() {
            const name = document.getElementById('userName').value.trim();
            const email = document.getElementById('userEmail').value.trim();
            
            if (!name || !email) {
                addConsoleMessage('crudConsole', 'error', '‚ùå Please enter both name and email');
                return;
            }

            const user = {
                id: userId++,
                name: name,
                email: email,
                createdAt: new Date().toLocaleString()
            };

            users.push(user);
            addConsoleMessage('crudConsole', 'success', `‚úÖ POST /api/users - User created: ${name}`);
            addConsoleMessage('crudConsole', 'info', `üì¶ Response: ${JSON.stringify(user)}`);
            
            document.getElementById('userName').value = '';
            document.getElementById('userEmail').value = '';
            
            updateUsersTable();
        }

        function readUsers() {
            if (users.length === 0) {
                addConsoleMessage('crudConsole', 'warning', '‚ö†Ô∏è No users found. Create some users first!');
                return;
            }

            addConsoleMessage('crudConsole', 'success', `‚úÖ GET /api/users - Retrieved ${users.length} users`);
            addConsoleMessage('crudConsole', 'info', `üì¶ Response: ${JSON.stringify(users)}`);
            updateUsersTable();
        }

        function updateUser() {
            if (users.length === 0) {
                addConsoleMessage('crudConsole', 'warning', '‚ö†Ô∏è No users to update. Create some users first!');
                return;
            }

            const user = users[0];
            user.name = user.name + ' (Updated)';
            
            addConsoleMessage('crudConsole', 'success', `‚úÖ PUT /api/users/${user.id} - User updated`);
            addConsoleMessage('crudConsole', 'info', `üì¶ Response: ${JSON.stringify(user)}`);
            updateUsersTable();
        }

        function deleteUser() {
            if (users.length === 0) {
                addConsoleMessage('crudConsole', 'warning', '‚ö†Ô∏è No users to delete');
                return;
            }

            const deletedUser = users.pop();
            addConsoleMessage('crudConsole', 'success', `‚úÖ DELETE /api/users/${deletedUser.id} - User deleted: ${deletedUser.name}`);
            updateUsersTable();
        }

        function updateUsersTable() {
            const table = document.getElementById('usersTable');
            const tbody = document.getElementById('usersTableBody');
            
            if (users.length === 0) {
                table.style.display = 'none';
                return;
            }

            table.style.display = 'table';
            tbody.innerHTML = '';
            
            users.forEach(user => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${user.id}</td>
                    <td>${user.name}</td>
                    <td>${user.email}</td>
                    <td>${user.createdAt}</td>
                `;
            });
        }

        // Pagination
        let currentPage = 1;
        const totalPages = 10;

        function changePage(direction) {
            if (direction === 'first') currentPage = 1;
            else if (direction === 'last') currentPage = totalPages;
            else if (direction === 'prev' && currentPage > 1) currentPage--;
            else if (direction === 'next' && currentPage < totalPages) currentPage++;
            
            updatePagination();
        }

        function goToPage(page) {
            currentPage = page;
            updatePagination();
        }

        function updatePagination() {
            document.getElementById('currentPage').textContent = currentPage;
            
            // Update active button
            for (let i = 1; i <= 5; i++) {
                const btn = document.getElementById('page' + i);
                if (btn) {
                    btn.classList.remove('active');
                    if (i === currentPage) {
                        btn.classList.add('active');
                    }
                }
            }

            const start = (currentPage - 1) * 10 + 1;
            const end = Math.min(currentPage * 10, 100);
            
            const console = document.getElementById('paginationConsole');
            console.innerHTML = `<div class="console-line console-success">‚úÖ GET /api/users?page=${currentPage}&limit=10</div>`;
            console.innerHTML += `<div class="console-line console-info">üì¶ Showing items ${start}-${end} of 100</div>`;
        }

        // Authentication
        function simulateLogin() {
            const username = document.getElementById('authUsername').value.trim();
            const password = document.getElementById('authPassword').value.trim();
            const role = document.getElementById('authRole').value;

            if (!username || !password) {
                addConsoleMessage('authConsole', 'error', '‚ùå Please enter username and password');
                return;
            }

            // Simulate JWT token
            currentAuthToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.' + btoa(JSON.stringify({userId: 123, role: role}));
            currentUserRole = role;

            document.getElementById('authStatus').className = 'status-indicator status-success';
            document.getElementById('authStatusText').textContent = `Authenticated as ${role}`;

            addConsoleMessage('authConsole', 'success', '‚úÖ POST /api/login - Login successful');
            addConsoleMessage('authConsole', 'info', `üé´ JWT Token generated: ${currentAuthToken.substring(0, 50)}...`);
            addConsoleMessage('authConsole', 'info', `üë§ User role: ${role}`);
        }

        function simulateLogout() {
            currentAuthToken = null;
            currentUserRole = null;

            document.getElementById('authStatus').className = 'status-indicator status-error';
            document.getElementById('authStatusText').textContent = 'Not Authenticated';

            addConsoleMessage('authConsole', 'warning', 'üö™ POST /api/logout - Logged out successfully');
            addConsoleMessage('authConsole', 'info', 'üé´ Token invalidated');
        }

        function accessProtectedRoute() {
            if (!currentAuthToken) {
                addConsoleMessage('authConsole', 'error', '‚ùå GET /api/admin/users - 401 Unauthorized');
                addConsoleMessage('authConsole', 'error', 'üîí Please login first');
                return;
            }

            if (currentUserRole === 'admin') {
                addConsoleMessage('authConsole', 'success', '‚úÖ GET /api/admin/users - 200 OK');
                addConsoleMessage('authConsole', 'success', 'üîì Access granted - Admin privileges verified');
            } else {
                addConsoleMessage('authConsole', 'error', '‚ùå GET /api/admin/users - 403 Forbidden');
                addConsoleMessage('authConsole', 'error', 'üö´ Access denied - Admin role required');
            }
        }

        // Error Handling
        function simulateRequest() {
            const scenario = document.getElementById('errorScenario').value;
            const console = document.getElementById('errorConsole');
            
            addConsoleMessage('errorConsole', 'info', 'üöÄ Sending request to /api/data...');

            setTimeout(() => {
                switch(scenario) {
                    case 'success':
                        addConsoleMessage('errorConsole', 'success', '‚úÖ 200 OK - Request successful');
                        addConsoleMessage('errorConsole', 'success', 'üì¶ Data received: { items: [...], count: 42 }');
                        break;
                    case 'network':
                        addConsoleMessage('errorConsole', 'error', '‚ùå Network Error - Failed to fetch');
                        addConsoleMessage('errorConsole', 'error', 'üåê Check your internet connection');
                        break;
                    case 'timeout':
                        addConsoleMessage('errorConsole', 'error', '‚ùå Timeout Error - Request took too long');
                        addConsoleMessage('errorConsole', 'warning', '‚è±Ô∏è Consider implementing retry logic');
                        break;
                    case 'validation':
                        addConsoleMessage('errorConsole', 'error', '‚ùå 400 Bad Request - Validation Error');
                        addConsoleMessage('errorConsole', 'error', 'üìù { error: "Email is required" }');
                        break;
                    case 'auth':
                        addConsoleMessage('errorConsole', 'error', '‚ùå 401 Unauthorized - Invalid token');
                        addConsoleMessage('errorConsole', 'error', 'üîê Please login again');
                        break;
                    case 'server':
                        addConsoleMessage('errorConsole', 'error', '‚ùå 500 Internal Server Error');
                        addConsoleMessage('errorConsole', 'error', 'üí• Something went wrong on the server');
                        break;
                }
            }, 1000);
        }

        function simulateRetry() {
            addConsoleMessage('errorConsole', 'info', 'üîÑ Retry attempt 1...');
            
            setTimeout(() => {
                addConsoleMessage('errorConsole', 'warning', '‚ö†Ô∏è Failed - Waiting 1s before retry 2');
            }, 500);

            setTimeout(() => {
                addConsoleMessage('errorConsole', 'info', 'üîÑ Retry attempt 2...');
            }, 1500);

            setTimeout(() => {
                addConsoleMessage('errorConsole', 'warning', '‚ö†Ô∏è Failed - Waiting 2s before retry 3');
            }, 2000);

            setTimeout(() => {
                addConsoleMessage('errorConsole', 'info', 'üîÑ Retry attempt 3...');
            }, 4000);

            setTimeout(() => {
                addConsoleMessage('errorConsole', 'success', '‚úÖ Success! Request completed after 3 retries');
                addConsoleMessage('errorConsole', 'info', 'üí° Exponential backoff: 1s ‚Üí 2s ‚Üí 4s');
            }, 4500);
        }

        function checkCache() {
            const isCached = Math.random() > 0.5;
            
            if (isCached) {
                addConsoleMessage('errorConsole', 'success', '‚ö° Cache HIT - Data retrieved from Redis');
                addConsoleMessage('errorConsole', 'success', 'üöÄ Response time: 5ms');
            } else {
                addConsoleMessage('errorConsole', 'warning', 'üêå Cache MISS - Querying database');
                addConsoleMessage('errorConsole', 'info', 'üíæ Storing in cache for future requests');
                addConsoleMessage('errorConsole', 'info', '‚è±Ô∏è Response time: 200ms');
            }
        }

        // Helper function
        function addConsoleMessage(consoleId, type, message) {
            const console = document.getElementById(consoleId);
            const line = document.createElement('div');
            line.className = `console-line console-${type}`;
            line.textContent = message;
            console.appendChild(line);
            console.scrollTop = console.scrollHeight;
        }

        // Interview Questions Toggle
        function toggleAnswer(questionNumber) {
            const answer = document.getElementById('answer' + questionNumber);
            answer.classList.toggle('show');
        }

        // Progress Bar
        window.addEventListener('scroll', () => {
            const windowHeight = window.innerHeight;
            const documentHeight = document.documentElement.scrollHeight - windowHeight;
            const scrolled = window.scrollY;
            const progress = (scrolled / documentHeight) * 100;
            
            document.getElementById('progressBar').style.width = progress + '%';
        });

        // Initialize
        updatePagination();
        document.getElementById('authStatus').className = 'status-indicator status-error';
    </script>
</body>
</html>